EESchema Schematic File Version 2  date Ter 22 Jan 2013 16:32:47 WET
LIBS:Allegro_ACS754_ACS755_ACS756_HallCurrentSensor_RevA
LIBS:ac-dc
LIBS:conn
LIBS:contrib
LIBS:dc-dc
LIBS:device
LIBS:elec-unifil
LIBS:gennum
LIBS:hc11
LIBS:intel
LIBS:interface
LIBS:linear
LIBS:memory
LIBS:microcontrollers
LIBS:nxp_armmcu
LIBS:power
LIBS:powerint
LIBS:pspice
LIBS:regul
LIBS:sensors
LIBS:special
LIBS:transistors
LIBS:ttl_ieee
LIBS:opendous
LIBS:R2C2_bluetooth
LIBS:max5035
LIBS:ir2181
LIBS:lm50
LIBS:PSMN6R5
LIBS:EBike_Smart_Controller-cache
EELAYER 27 0
EELAYER END
$Descr A3 16535 11693
encoding utf-8
Sheet 1 1
Title "EBike Smart Controller -- prototype V3"
Date "22 jan 2013"
Rev ""
Comp "Author: Jorge Pinto aka Casainho (casainho@gmail.com)"
Comment1 "License: GPL V3"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L C_MINI C4
U 1 1 50F16FD1
P 3250 1450
F 0 "C4" V 3150 1350 30  0000 C CNN
F 1 "10uF" H 3300 1350 25  0000 C CNN
	1    3250 1450
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C25
U 1 1 50F16FD0
P 3450 1450
F 0 "C25" V 3350 1350 30  0000 C CNN
F 1 "10uF" H 3500 1350 25  0000 C CNN
	1    3450 1450
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C27
U 1 1 50F16FC7
P 3850 1450
F 0 "C27" V 3750 1350 30  0000 C CNN
F 1 "10uF" H 3900 1350 25  0000 C CNN
	1    3850 1450
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C26
U 1 1 50F16FA7
P 3650 1450
F 0 "C26" V 3550 1350 30  0000 C CNN
F 1 "10uF" H 3700 1350 25  0000 C CNN
	1    3650 1450
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR28
U 1 1 50DAEFB1
P 6600 6350
F 0 "#PWR28" H 6600 6350 30  0001 C CNN
F 1 "GND" H 6600 6280 30  0001 C CNN
	1    6600 6350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR23
U 1 1 50DAEFB0
P 6200 6350
F 0 "#PWR23" H 6200 6350 30  0001 C CNN
F 1 "GND" H 6200 6280 30  0001 C CNN
	1    6200 6350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR24
U 1 1 50DAEFA6
P 6200 8150
F 0 "#PWR24" H 6200 8150 30  0001 C CNN
F 1 "GND" H 6200 8080 30  0001 C CNN
	1    6200 8150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR29
U 1 1 50DAEFA5
P 6600 8150
F 0 "#PWR29" H 6600 8150 30  0001 C CNN
F 1 "GND" H 6600 8080 30  0001 C CNN
	1    6600 8150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR27
U 1 1 50DAEF88
P 6600 4550
F 0 "#PWR27" H 6600 4550 30  0001 C CNN
F 1 "GND" H 6600 4480 30  0001 C CNN
	1    6600 4550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR22
U 1 1 50DAEF7C
P 6200 4550
F 0 "#PWR22" H 6200 4550 30  0001 C CNN
F 1 "GND" H 6200 4480 30  0001 C CNN
	1    6200 4550
	1    0    0    -1  
$EndComp
$Comp
L PSMN6R5-80PS Q5
U 1 1 50DADD3F
P 6500 7000
F 0 "Q5" H 6500 7190 30  0000 R CNN
F 1 "PSMN6R5-80PS" H 7050 6820 30  0000 R CNN
	1    6500 7000
	1    0    0    -1  
$EndComp
$Comp
L PSMN6R5-80PS Q4
U 1 1 50DADD38
P 6500 5900
F 0 "Q4" H 6500 6090 30  0000 R CNN
F 1 "PSMN6R5-80PS" H 7050 5720 30  0000 R CNN
	1    6500 5900
	1    0    0    -1  
$EndComp
$Comp
L PSMN6R5-80PS Q3
U 1 1 50DADD35
P 6500 5200
F 0 "Q3" H 6500 5390 30  0000 R CNN
F 1 "PSMN6R5-80PS" H 7050 5020 30  0000 R CNN
	1    6500 5200
	1    0    0    -1  
$EndComp
$Comp
L PSMN6R5-80PS Q2
U 1 1 50DADD2B
P 6500 4100
F 0 "Q2" H 6500 4290 30  0000 R CNN
F 1 "PSMN6R5-80PS" H 7050 3920 30  0000 R CNN
	1    6500 4100
	1    0    0    -1  
$EndComp
$Comp
L PSMN6R5-80PS Q1
U 1 1 50DADD28
P 6500 3400
F 0 "Q1" H 6500 3590 30  0000 R CNN
F 1 "PSMN6R5-80PS" H 7050 3220 30  0000 R CNN
	1    6500 3400
	1    0    0    -1  
$EndComp
$Comp
L PSMN6R5-80PS Q6
U 1 1 50DADD09
P 6500 7700
F 0 "Q6" H 6500 7890 30  0000 R CNN
F 1 "PSMN6R5-80PS" H 7050 7520 30  0000 R CNN
	1    6500 7700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR33
U 1 1 50DAD98F
P 7600 2050
F 0 "#PWR33" H 7600 2050 30  0001 C CNN
F 1 "GND" H 7600 1980 30  0001 C CNN
	1    7600 2050
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C18
U 1 1 50DAD969
P 7600 1700
F 0 "C18" V 7500 1600 30  0000 C CNN
F 1 "100nF" H 7650 1600 25  0000 C CNN
	1    7600 1700
	0    -1   -1   0   
$EndComp
Text Notes 8950 4900 0    60   ~ 0
This is the circuit GND.
$Comp
L GND #PWR38
U 1 1 50DAD8F3
P 9450 5100
F 0 "#PWR38" H 9450 5100 30  0001 C CNN
F 1 "GND" H 9450 5030 30  0001 C CNN
	1    9450 5100
	1    0    0    -1  
$EndComp
Text Label 9350 6400 0    60   ~ 0
Battery GND
Text Label 2300 1750 0    60   ~ 0
Battery GND
Text Label 10350 5800 0    60   ~ 0
Current_signal (STM32F100 PA2)
Text Label 8150 9150 2    60   ~ 0
Mosfets_temperature_signal (STM32F100 PA3)
$Comp
L LM50 U5
U 1 1 50CB687E
P 4900 9000
F 0 "U5" H 5000 8900 60  0000 C CNN
F 1 "LM50" H 4900 9300 60  0000 C CNN
	1    4900 9000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR20
U 1 1 50CB698D
P 5800 9500
F 0 "#PWR20" H 5800 9500 30  0001 C CNN
F 1 "GND" H 5800 9430 30  0001 C CNN
	1    5800 9500
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R14
U 1 1 50CB698C
P 5800 9300
F 0 "R14" H 5850 9250 25  0000 C CNN
F 1 "6K8 1%" H 5800 9350 25  0000 C CNN
	1    5800 9300
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R13
U 1 1 50CB698B
P 5800 9000
F 0 "R13" H 5800 8950 25  0000 C CNN
F 1 "3K6 1%" H 5800 9050 25  0000 C CNN
	1    5800 9000
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR21
U 1 1 50CB698A
P 6000 9500
F 0 "#PWR21" H 6000 9500 30  0001 C CNN
F 1 "GND" H 6000 9430 30  0001 C CNN
	1    6000 9500
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C16
U 1 1 50CB6989
P 6000 9300
F 0 "C16" V 5950 9340 30  0000 C CNN
F 1 "10nF" H 6050 9370 25  0000 C CNN
	1    6000 9300
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR15
U 1 1 50CB6956
P 4200 8750
F 0 "#PWR15" H 4200 8840 20  0001 C CNN
F 1 "+5V" H 4200 8840 30  0000 C CNN
	1    4200 8750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR16
U 1 1 50CB68F9
P 4200 9600
F 0 "#PWR16" H 4200 9600 30  0001 C CNN
F 1 "GND" H 4200 9530 30  0001 C CNN
	1    4200 9600
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C11
U 1 1 50CB68F8
P 4200 9250
F 0 "C11" V 4150 9290 30  0000 C CNN
F 1 "100nF" H 4250 9320 25  0000 C CNN
	1    4200 9250
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR19
U 1 1 50CB68D4
P 4900 9600
F 0 "#PWR19" H 4900 9600 30  0001 C CNN
F 1 "GND" H 4900 9530 30  0001 C CNN
	1    4900 9600
	1    0    0    -1  
$EndComp
Text Label 1450 7400 0    60   ~ 0
PWM for mosfet phase_c low (STM32F100 PB15)
Text Label 1450 7300 0    60   ~ 0
PWM for mosfet phase_c high (STM32F100 PA10)
$Comp
L C_MINI C15
U 1 1 50CB6126
P 5600 7150
F 0 "C15" V 5550 7190 30  0000 C CNN
F 1 "100nF" H 5650 7220 25  0000 C CNN
	1    5600 7150
	0    -1   -1   0   
$EndComp
$Comp
L D_SCHOTTKY D4
U 1 1 50CB6125
P 4700 6950
F 0 "D4" V 4610 6900 35  0000 C CNN
F 1 "PMEG6010" H 4800 7050 30  0000 C CNN
	1    4700 6950
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C10
U 1 1 50CB6124
P 4000 7350
F 0 "C10" V 3950 7390 30  0000 C CNN
F 1 "100nF" H 4050 7420 25  0000 C CNN
	1    4000 7350
	0    -1   -1   0   
$EndComp
$Comp
L +12V #PWR13
U 1 1 50CB6123
P 4000 6900
F 0 "#PWR13" H 4000 6850 20  0001 C CNN
F 1 "+12V" H 4000 7000 30  0000 C CNN
	1    4000 6900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR14
U 1 1 50CB6122
P 4000 7750
F 0 "#PWR14" H 4000 7750 30  0001 C CNN
F 1 "GND" H 4000 7680 30  0001 C CNN
	1    4000 7750
	1    0    0    -1  
$EndComp
$Comp
L IR2181 U4
U 1 1 50CB6121
P 4700 7350
F 0 "U4" H 4750 7150 60  0000 C CNN
F 1 "IR2181" H 4750 7000 60  0000 C CNN
	1    4700 7350
	1    0    0    -1  
$EndComp
$Comp
L IR2181 U3
U 1 1 50CB60BB
P 4700 5550
F 0 "U3" H 4750 5350 60  0000 C CNN
F 1 "IR2181" H 4750 5200 60  0000 C CNN
	1    4700 5550
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR12
U 1 1 50CB60BA
P 4000 5950
F 0 "#PWR12" H 4000 5950 30  0001 C CNN
F 1 "GND" H 4000 5880 30  0001 C CNN
	1    4000 5950
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR11
U 1 1 50CB60B9
P 4000 5100
F 0 "#PWR11" H 4000 5050 20  0001 C CNN
F 1 "+12V" H 4000 5200 30  0000 C CNN
	1    4000 5100
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C9
U 1 1 50CB60B8
P 4000 5550
F 0 "C9" V 3950 5590 30  0000 C CNN
F 1 "100nF" H 4050 5620 25  0000 C CNN
	1    4000 5550
	0    -1   -1   0   
$EndComp
$Comp
L D_SCHOTTKY D3
U 1 1 50CB60B7
P 4700 5150
F 0 "D3" V 4610 5100 35  0000 C CNN
F 1 "PMEG6010" H 4800 5250 30  0000 C CNN
	1    4700 5150
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C14
U 1 1 50CB60B6
P 5600 5350
F 0 "C14" V 5550 5390 30  0000 C CNN
F 1 "100nF" H 5650 5420 25  0000 C CNN
	1    5600 5350
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R17
U 1 1 50CB60B5
P 5850 5500
F 0 "R17" H 5900 5450 25  0000 C CNN
F 1 "10R" H 5850 5550 25  0000 C CNN
	1    5850 5500
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R18
U 1 1 50CB60B4
P 5850 5700
F 0 "R18" H 5900 5650 25  0000 C CNN
F 1 "10R" H 5850 5750 25  0000 C CNN
	1    5850 5700
	-1   0    0    1   
$EndComp
Text Label 1450 5500 0    60   ~ 0
PWM for mosfet phase_b high (STM32F100 PA9)
Text Label 1450 5600 0    60   ~ 0
PWM for mosfet phase_b low (STM32F100 PB14)
Text Label 6750 3800 0    60   ~ 0
Motor Phase A
Text Label 6700 3050 0    60   ~ 0
24V battery (up to 33V)
Text Label 1450 3800 0    60   ~ 0
PWM for mosfet phase_a low (STM32F100 PB13)
Text Label 1450 3700 0    60   ~ 0
PWM for mosfet phase_a high (STM32F100 PA8)
$Comp
L R_MINI R16
U 1 1 50CB1F7E
P 5850 3900
F 0 "R16" H 5900 3850 25  0000 C CNN
F 1 "10R" H 5850 3950 25  0000 C CNN
	1    5850 3900
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R15
U 1 1 50CB1F77
P 5850 3700
F 0 "R15" H 5900 3650 25  0000 C CNN
F 1 "10R" H 5850 3750 25  0000 C CNN
	1    5850 3700
	-1   0    0    1   
$EndComp
$Comp
L C_MINI C13
U 1 1 50CB1F36
P 5600 3550
F 0 "C13" V 5550 3590 30  0000 C CNN
F 1 "100nF" H 5650 3620 25  0000 C CNN
	1    5600 3550
	0    -1   -1   0   
$EndComp
$Comp
L D_SCHOTTKY D2
U 1 1 50CB1DD3
P 4700 3350
F 0 "D2" V 4610 3300 35  0000 C CNN
F 1 "PMEG6010" H 4800 3450 30  0000 C CNN
	1    4700 3350
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C8
U 1 1 50CB1D9D
P 4000 3750
F 0 "C8" V 3950 3790 30  0000 C CNN
F 1 "100nF" H 4050 3820 25  0000 C CNN
	1    4000 3750
	0    -1   -1   0   
$EndComp
$Comp
L +12V #PWR9
U 1 1 50CB1D88
P 4000 3300
F 0 "#PWR9" H 4000 3250 20  0001 C CNN
F 1 "+12V" H 4000 3400 30  0000 C CNN
	1    4000 3300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR10
U 1 1 50CB1D68
P 4000 4150
F 0 "#PWR10" H 4000 4150 30  0001 C CNN
F 1 "GND" H 4000 4080 30  0001 C CNN
	1    4000 4150
	1    0    0    -1  
$EndComp
$Comp
L IR2181 U2
U 1 1 50CB1D32
P 4700 3750
F 0 "U2" H 4750 3550 60  0000 C CNN
F 1 "IR2181" H 4750 3400 60  0000 C CNN
	1    4700 3750
	1    0    0    -1  
$EndComp
Text Label 2150 1200 0    60   ~ 0
24V battery (up to 33V)
$Comp
L CAPAPOL C19
U 1 1 50CB0F08
P 8700 1700
F 0 "C19" H 8750 1800 50  0000 L CNN
F 1 "1uF" H 8750 1600 50  0000 L CNN
	1    8700 1700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR36
U 1 1 50CB0F07
P 8700 2050
F 0 "#PWR36" H 8700 2050 30  0001 C CNN
F 1 "GND" H 8700 1980 30  0001 C CNN
	1    8700 2050
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR35
U 1 1 50CB0EE1
P 8700 1300
F 0 "#PWR35" H 8700 1390 20  0001 C CNN
F 1 "+5V" H 8700 1390 30  0000 C CNN
	1    8700 1300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR34
U 1 1 50CB0EB0
P 8150 2050
F 0 "#PWR34" H 8150 2050 30  0001 C CNN
F 1 "GND" H 8150 1980 30  0001 C CNN
	1    8150 2050
	1    0    0    -1  
$EndComp
$Comp
L 78L05 U6
U 1 1 50CB0E55
P 8150 1450
F 0 "U6" H 8300 1254 60  0000 C CNN
F 1 "78L05" H 8150 1650 60  0000 C CNN
	1    8150 1450
	1    0    0    -1  
$EndComp
$Comp
L +12V #PWR31
U 1 1 50C9C4C9
P 7250 1300
F 0 "#PWR31" H 7250 1250 20  0001 C CNN
F 1 "+12V" H 7250 1400 30  0000 C CNN
	1    7250 1300
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P1
U 1 1 50C9C473
P 1800 1300
F 0 "P1" V 1750 1300 40  0000 C CNN
F 1 "Battery input" V 1950 1300 40  0000 C CNN
	1    1800 1300
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR30
U 1 1 50C9C10E
P 7000 2050
F 0 "#PWR30" H 7000 2050 30  0001 C CNN
F 1 "GND" H 7000 1980 30  0001 C CNN
	1    7000 2050
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R22
U 1 1 50C9C0F1
P 7000 1850
F 0 "R22" H 7050 1800 25  0000 C CNN
F 1 "10k 1%" H 7000 1900 25  0000 C CNN
	1    7000 1850
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R21
U 1 1 50C9C0EE
P 7000 1550
F 0 "R21" H 7050 1500 25  0000 C CNN
F 1 "92k 1%" H 7000 1600 25  0000 C CNN
	1    7000 1550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR32
U 1 1 50C9C067
P 7250 2050
F 0 "#PWR32" H 7250 2050 30  0001 C CNN
F 1 "GND" H 7250 1980 30  0001 C CNN
	1    7250 2050
	1    0    0    -1  
$EndComp
$Comp
L CAPAPOL C17
U 1 1 50C9C066
P 7250 1700
F 0 "C17" H 7300 1800 50  0000 L CNN
F 1 "47uF" H 7300 1600 50  0000 L CNN
	1    7250 1700
	1    0    0    -1  
$EndComp
$Comp
L L_MINI L1
U 1 1 50C9C043
P 6750 1400
F 0 "L1" H 6675 1350 30  0000 C CNN
F 1 "100uH" H 6750 1450 22  0000 C CNN
	1    6750 1400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR26
U 1 1 50C9C004
P 6500 1800
F 0 "#PWR26" H 6500 1800 30  0001 C CNN
F 1 "GND" H 6500 1730 30  0001 C CNN
	1    6500 1800
	1    0    0    -1  
$EndComp
$Comp
L D_SCHOTTKY D5
U 1 1 50C9BFE3
P 6500 1600
F 0 "D5" V 6410 1550 35  0000 C CNN
F 1 "PMEG6010" H 6450 1450 30  0000 C CNN
	1    6500 1600
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C12
U 1 1 50C9BFA7
P 6250 1300
F 0 "C12" V 6200 1340 30  0000 C CNN
F 1 "100nF" H 6300 1200 25  0000 C CNN
	1    6250 1300
	0    -1   -1   0   
$EndComp
Text Notes 5300 2050 0    60   ~ 0
MAX5035D
$Comp
L C_MINI C7
U 1 1 50C9BB98
P 4800 1700
F 0 "C7" V 4750 1740 30  0000 C CNN
F 1 "100nF" H 4850 1770 25  0000 C CNN
	1    4800 1700
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR25
U 1 1 50C9BB88
P 6250 2050
F 0 "#PWR25" H 6250 2050 30  0001 C CNN
F 1 "GND" H 6250 1980 30  0001 C CNN
	1    6250 2050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR18
U 1 1 50C9BB7C
P 4800 2050
F 0 "#PWR18" H 4800 2050 30  0001 C CNN
F 1 "GND" H 4800 1980 30  0001 C CNN
	1    4800 2050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR62
U 1 1 50BBEA1A
P 12750 2050
F 0 "#PWR62" H 12750 2050 30  0001 C CNN
F 1 "GND" H 12750 1980 30  0001 C CNN
	1    12750 2050
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C24
U 1 1 50BBEA19
P 12750 1850
F 0 "C24" H 12650 1900 30  0000 C CNN
F 1 "10nF" H 12800 1920 25  0000 C CNN
	1    12750 1850
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C23
U 1 1 50BBEA06
P 12600 1850
F 0 "C23" H 12500 1900 30  0000 C CNN
F 1 "10nF" H 12650 1920 25  0000 C CNN
	1    12600 1850
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR61
U 1 1 50BBEA05
P 12600 2050
F 0 "#PWR61" H 12600 2050 30  0001 C CNN
F 1 "GND" H 12600 1980 30  0001 C CNN
	1    12600 2050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR58
U 1 1 50BBE9ED
P 12450 2050
F 0 "#PWR58" H 12450 2050 30  0001 C CNN
F 1 "GND" H 12450 1980 30  0001 C CNN
	1    12450 2050
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C22
U 1 1 50BBE9EC
P 12450 1850
F 0 "C22" H 12350 1900 30  0000 C CNN
F 1 "10nF" H 12500 1920 25  0000 C CNN
	1    12450 1850
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR48
U 1 1 50A57363
P 10450 6150
F 0 "#PWR48" H 10450 6150 30  0001 C CNN
F 1 "GND" H 10450 6080 30  0001 C CNN
	1    10450 6150
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C5
U 1 1 50A57362
P 10450 5900
F 0 "C5" V 10400 5940 30  0000 C CNN
F 1 "100nF" V 10500 5970 25  0000 C CNN
	1    10450 5900
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR51
U 1 1 508C12D8
P 11500 2000
F 0 "#PWR51" H 11500 2000 30  0001 C CNN
F 1 "GND" H 11500 1930 30  0001 C CNN
	1    11500 2000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR39
U 1 1 508C1271
P 9500 3150
F 0 "#PWR39" H 9500 3150 30  0001 C CNN
F 1 "GND" H 9500 3080 30  0001 C CNN
	1    9500 3150
	1    0    0    -1  
$EndComp
Text Notes 13350 3950 3    50   ~ 0
Note: 3V3 power\nsource is from\nSTM32F100\nheader board.
$Comp
L R_MINI R36
U 1 1 508468AB
P 10100 2800
F 0 "R36" H 10100 2750 25  0000 C CNN
F 1 "3K6" H 10100 2850 25  0000 C CNN
	1    10100 2800
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R33
U 1 1 508468A4
P 9700 4050
F 0 "R33" H 9700 4000 25  0000 C CNN
F 1 "3K6" H 9700 4100 25  0000 C CNN
	1    9700 4050
	-1   0    0    1   
$EndComp
Text Notes 10400 7050 0    150  ~ 0
STM32F100\n(Bravekit.com Header board)
Text Label 2250 9200 0    60   ~ 0
Voltage_signal (STM32F100 PA1)
$Comp
L R_MINI R3
U 1 1 508417B2
P 2000 9200
F 0 "R3" H 2000 9150 25  0000 C CNN
F 1 "2K2" H 2000 9250 25  0000 C CNN
	1    2000 9200
	-1   0    0    1   
$EndComp
$Comp
L C_MINI C2
U 1 1 50831587
P 9650 5850
F 0 "C2" V 9600 5890 30  0000 C CNN
F 1 "100nF" V 9700 5920 25  0000 C CNN
	1    9650 5850
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R6
U 1 1 50841760
P 10250 5800
F 0 "R6" H 10250 5750 25  0000 C CNN
F 1 "3K6" H 10250 5850 25  0000 C CNN
	1    10250 5800
	-1   0    0    1   
$EndComp
$Comp
L +3.3V #PWR60
U 1 1 5083CE03
P 12450 8350
F 0 "#PWR60" H 12450 8310 30  0001 C CNN
F 1 "+3.3V" V 12450 8500 30  0000 C CNN
	1    12450 8350
	0    1    1    0   
$EndComp
Text Label 12550 3100 0    60   ~ 0
UART TX (STM32F100 PB10)
Text Label 12550 3000 0    60   ~ 0
UART RX (STM32F100 PB11)
$Comp
L +3.3V #PWR63
U 1 1 5083C9AC
P 13700 4000
F 0 "#PWR63" H 13700 3960 30  0001 C CNN
F 1 "+3.3V" H 13700 4110 30  0000 C CNN
	1    13700 4000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR64
U 1 1 5083C9A1
P 13700 4350
F 0 "#PWR64" H 13700 4350 30  0001 C CNN
F 1 "GND" H 13700 4280 30  0001 C CNN
	1    13700 4350
	1    0    0    -1  
$EndComp
NoConn ~ 15100 4300
NoConn ~ 13900 3200
NoConn ~ 13900 3300
NoConn ~ 13900 3400
NoConn ~ 13900 3500
NoConn ~ 13900 3600
NoConn ~ 13900 3700
NoConn ~ 13900 3800
NoConn ~ 13900 3900
NoConn ~ 13900 4000
NoConn ~ 13900 4300
NoConn ~ 13900 4400
NoConn ~ 13900 4500
NoConn ~ 13900 4600
NoConn ~ 15100 4600
NoConn ~ 15100 4500
NoConn ~ 15100 4400
NoConn ~ 15100 4200
NoConn ~ 15100 4100
NoConn ~ 15100 4000
NoConn ~ 15100 3900
NoConn ~ 15100 3800
NoConn ~ 15100 3700
NoConn ~ 15100 3600
NoConn ~ 15100 3500
NoConn ~ 15100 3400
NoConn ~ 15100 3300
NoConn ~ 15100 3200
NoConn ~ 15100 3100
NoConn ~ 15100 3000
$Comp
L BLUETOOTH_MODULE P7
U 1 1 5083C8F8
P 14500 3800
F 0 "P7" H 14500 4700 70  0000 C CNN
F 1 "BLUETOOTH_MODULE" V 14500 3800 70  0000 C CNN
	1    14500 3800
	1    0    0    -1  
$EndComp
Text Label 12850 1650 0    60   ~ 0
Hall sensor phase_a (STM32F100 PA6)
Text Label 12850 1550 0    60   ~ 0
Hall sensor phase_b (STM32F100 PA7)
Text Label 12850 1450 0    60   ~ 0
Hall sensor phase_c (STM32F100 PB0)
$Comp
L +5V #PWR50
U 1 1 50832572
P 11450 1750
F 0 "#PWR50" H 11450 1840 20  0001 C CNN
F 1 "+5V" V 11400 1850 30  0000 C CNN
	1    11450 1750
	0    1    1    0   
$EndComp
$Comp
L CONN_5 P3
U 1 1 50832540
P 11000 1650
F 0 "P3" V 10950 1650 50  0000 C CNN
F 1 "Hall sensors" V 11050 1650 50  0000 C CNN
	1    11000 1650
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR2
U 1 1 508324F5
P 1800 9550
F 0 "#PWR2" H 1800 9550 30  0001 C CNN
F 1 "GND" H 1800 9480 30  0001 C CNN
	1    1800 9550
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C1
U 1 1 508324F4
P 1800 9350
F 0 "C1" V 1750 9390 30  0000 C CNN
F 1 "10nF" H 1850 9420 25  0000 C CNN
	1    1800 9350
	0    -1   -1   0   
$EndComp
Text Label 1750 8850 0    60   ~ 0
24V battery (up to 33V)
$Comp
L R_MINI R1
U 1 1 5083228E
P 1550 9050
F 0 "R1" H 1550 9000 25  0000 C CNN
F 1 "100K 1%" H 1550 9100 25  0000 C CNN
	1    1550 9050
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R2
U 1 1 5083228D
P 1550 9350
F 0 "R2" H 1600 9300 25  0000 C CNN
F 1 "10K 1%" H 1550 9400 25  0000 C CNN
	1    1550 9350
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR1
U 1 1 5083228C
P 1550 9550
F 0 "#PWR1" H 1550 9550 30  0001 C CNN
F 1 "GND" H 1550 9480 30  0001 C CNN
	1    1550 9550
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR40
U 1 1 5083200B
P 9500 3700
F 0 "#PWR40" H 9500 3660 30  0001 C CNN
F 1 "+3.3V" H 9500 3810 30  0000 C CNN
	1    9500 3700
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P4
U 1 1 50831FC0
P 9000 4150
F 0 "P4" V 8950 4150 40  0000 C CNN
F 1 "Brake" V 9050 4150 40  0000 C CNN
	1    9000 4150
	-1   0    0    1   
$EndComp
Text Label 9900 4050 0    60   ~ 0
Brake_signal (STM32F100 PB12)
$Comp
L R_MINI R29
U 1 1 50831F42
P 9500 3900
F 0 "R29" H 9500 3850 25  0000 C CNN
F 1 "10K" H 9500 3950 25  0000 C CNN
	1    9500 3900
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR41
U 1 1 50831F3E
P 9500 4400
F 0 "#PWR41" H 9500 4400 30  0001 C CNN
F 1 "GND" H 9500 4330 30  0001 C CNN
	1    9500 4400
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C20
U 1 1 50831F3D
P 9500 4200
F 0 "C20" V 9450 4240 30  0000 C CNN
F 1 "10nF" H 9550 4270 25  0000 C CNN
	1    9500 4200
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C21
U 1 1 50831E6F
P 9900 2950
F 0 "C21" V 9850 2990 30  0000 C CNN
F 1 "10nF" H 9950 3020 25  0000 C CNN
	1    9900 2950
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR46
U 1 1 50831E6E
P 9900 3150
F 0 "#PWR46" H 9900 3150 30  0001 C CNN
F 1 "GND" H 9900 3080 30  0001 C CNN
	1    9900 3150
	1    0    0    -1  
$EndComp
$Comp
L CONN_3 K1
U 1 1 50831D6C
P 9000 2600
F 0 "K1" V 8950 2600 50  0000 C CNN
F 1 "Throttle" V 9050 2600 40  0000 C CNN
	1    9000 2600
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR37
U 1 1 50831D0B
P 9450 2600
F 0 "#PWR37" H 9450 2690 20  0001 C CNN
F 1 "+5V" V 9400 2700 30  0000 C CNN
	1    9450 2600
	0    1    1    0   
$EndComp
$Comp
L R_MINI R31
U 1 1 50831D06
P 9700 2650
F 0 "R31" H 9700 2600 25  0000 C CNN
F 1 "3K6 1%" H 9700 2700 25  0000 C CNN
	1    9700 2650
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R32
U 1 1 50831D05
P 9700 2950
F 0 "R32" H 9750 2900 25  0000 C CNN
F 1 "6K8 1%" H 9700 3000 25  0000 C CNN
	1    9700 2950
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR44
U 1 1 50831D04
P 9700 3150
F 0 "#PWR44" H 9700 3150 30  0001 C CNN
F 1 "GND" H 9700 3080 30  0001 C CNN
	1    9700 3150
	1    0    0    -1  
$EndComp
Text Label 10250 2800 0    60   ~ 0
Throttle_signal (STM32F100 PA0)
$Comp
L GND #PWR47
U 1 1 50831B19
P 10050 6150
F 0 "#PWR47" H 10050 6150 30  0001 C CNN
F 1 "GND" H 10050 6080 30  0001 C CNN
	1    10050 6150
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R5
U 1 1 50831B08
P 10050 5950
F 0 "R5" H 10100 5900 25  0000 C CNN
F 1 "6K8 1%" H 10050 6000 25  0000 C CNN
	1    10050 5950
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R4
U 1 1 50831AF9
P 10050 5650
F 0 "R4" H 10050 5600 25  0000 C CNN
F 1 "3K6 1%" H 10050 5700 25  0000 C CNN
	1    10050 5650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR43
U 1 1 50831623
P 9650 6150
F 0 "#PWR43" H 9650 6150 30  0001 C CNN
F 1 "GND" H 9650 6080 30  0001 C CNN
	1    9650 6150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR45
U 1 1 50831321
P 9850 6150
F 0 "#PWR45" H 9850 6150 30  0001 C CNN
F 1 "GND" H 9850 6080 30  0001 C CNN
	1    9850 6150
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR42
U 1 1 508312E5
P 9650 5350
F 0 "#PWR42" H 9650 5440 20  0001 C CNN
F 1 "+5V" H 9650 5440 30  0000 C CNN
	1    9650 5350
	1    0    0    -1  
$EndComp
$Comp
L ACS754_ACS755_ACS756_HALLCURRENTSENSOR IC1
U 1 1 50830D7C
P 9300 5600
F 0 "IC1" H 9300 5800 60  0000 C CNN
F 1 "ACS756SCA-050B" H 9350 5950 60  0000 C CNN
	1    9300 5600
	0    -1   -1   0   
$EndComp
$Comp
L D_SCHOTTKY D1
U 1 1 50C9176C
P 4250 1200
F 0 "D1" V 4160 1150 35  0000 C CNN
F 1 "PMEG6010" H 4350 1300 30  0000 C CNN
	1    4250 1200
	1    0    0    -1  
$EndComp
$Comp
L CAPAPOL C6
U 1 1 50C91A36
P 4500 1450
F 0 "C6" H 4550 1550 50  0000 L CNN
F 1 "47uF" H 4550 1350 50  0000 L CNN
	1    4500 1450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR17
U 1 1 50C91A58
P 4500 1750
F 0 "#PWR17" H 4500 1750 30  0001 C CNN
F 1 "GND" H 4500 1680 30  0001 C CNN
	1    4500 1750
	1    0    0    -1  
$EndComp
$Comp
L MAX5035 U1
U 1 1 50C91F02
P 5550 1500
F 0 "U1" H 5500 2000 60  0000 C CNN
F 1 "MAX5035" H 5550 1100 60  0000 C CNN
	1    5550 1500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR6
U 1 1 50CCA010
P 3850 4150
F 0 "#PWR6" H 3850 4150 30  0001 C CNN
F 1 "GND" H 3850 4080 30  0001 C CNN
	1    3850 4150
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R10
U 1 1 50CCA016
P 3850 3950
F 0 "R10" H 3900 3900 25  0000 C CNN
F 1 "100k" H 3850 4000 25  0000 C CNN
	1    3850 3950
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR3
U 1 1 50CCA01D
P 3700 4150
F 0 "#PWR3" H 3700 4150 30  0001 C CNN
F 1 "GND" H 3700 4080 30  0001 C CNN
	1    3700 4150
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R7
U 1 1 50CCA023
P 3700 3950
F 0 "R7" H 3750 3900 25  0000 C CNN
F 1 "100k" H 3700 4000 25  0000 C CNN
	1    3700 3950
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR7
U 1 1 50CCAE1A
P 3850 5950
F 0 "#PWR7" H 3850 5950 30  0001 C CNN
F 1 "GND" H 3850 5880 30  0001 C CNN
	1    3850 5950
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R11
U 1 1 50CCAE20
P 3850 5750
F 0 "R11" H 3900 5700 25  0000 C CNN
F 1 "100k" H 3850 5800 25  0000 C CNN
	1    3850 5750
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR4
U 1 1 50CCAE27
P 3700 5950
F 0 "#PWR4" H 3700 5950 30  0001 C CNN
F 1 "GND" H 3700 5880 30  0001 C CNN
	1    3700 5950
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R8
U 1 1 50CCAE2D
P 3700 5750
F 0 "R8" H 3750 5700 25  0000 C CNN
F 1 "100k" H 3700 5800 25  0000 C CNN
	1    3700 5750
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR8
U 1 1 50CCB13B
P 3850 7750
F 0 "#PWR8" H 3850 7750 30  0001 C CNN
F 1 "GND" H 3850 7680 30  0001 C CNN
	1    3850 7750
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R12
U 1 1 50CCB141
P 3850 7550
F 0 "R12" H 3900 7500 25  0000 C CNN
F 1 "100k" H 3850 7600 25  0000 C CNN
	1    3850 7550
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR5
U 1 1 50CCB148
P 3700 7750
F 0 "#PWR5" H 3700 7750 30  0001 C CNN
F 1 "GND" H 3700 7680 30  0001 C CNN
	1    3700 7750
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R9
U 1 1 50CCB14E
P 3700 7550
F 0 "R9" H 3750 7500 25  0000 C CNN
F 1 "100k" H 3700 7600 25  0000 C CNN
	1    3700 7550
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R23
U 1 1 50CCAFC3
P 6200 3650
F 0 "R23" H 6250 3600 25  0000 C CNN
F 1 "100k" H 6200 3700 25  0000 C CNN
	1    6200 3650
	0    1    1    0   
$EndComp
$Comp
L R_MINI R24
U 1 1 50CCB150
P 6200 4350
F 0 "R24" H 6250 4300 25  0000 C CNN
F 1 "100K" H 6200 4400 25  0000 C CNN
	1    6200 4350
	0    1    1    0   
$EndComp
$Comp
L CAPAPOL C3
U 1 1 50CCFC6D
P 2950 1450
F 0 "C3" H 3000 1550 50  0000 L CNN
F 1 "10mF" H 3000 1350 50  0000 L CNN
	1    2950 1450
	1    0    0    -1  
$EndComp
Text Label 6750 5600 0    60   ~ 0
Motor Phase B
Text Label 6700 4850 0    60   ~ 0
24V battery (up to 33V)
$Comp
L R_MINI R25
U 1 1 50CDAD15
P 6200 5450
F 0 "R25" H 6250 5400 25  0000 C CNN
F 1 "100k" H 6200 5500 25  0000 C CNN
	1    6200 5450
	0    1    1    0   
$EndComp
$Comp
L R_MINI R26
U 1 1 50CDAD1B
P 6200 6150
F 0 "R26" H 6250 6100 25  0000 C CNN
F 1 "100K" H 6200 6200 25  0000 C CNN
	1    6200 6150
	0    1    1    0   
$EndComp
$Comp
L R_MINI R20
U 1 1 50CB6128
P 5850 7500
F 0 "R20" H 5900 7450 25  0000 C CNN
F 1 "10R" H 5850 7550 25  0000 C CNN
	1    5850 7500
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R19
U 1 1 50CB6127
P 5850 7300
F 0 "R19" H 5900 7250 25  0000 C CNN
F 1 "10R" H 5850 7350 25  0000 C CNN
	1    5850 7300
	-1   0    0    1   
$EndComp
Text Label 6750 7400 0    60   ~ 0
Motor Phase C
Text Label 6700 6650 0    60   ~ 0
24V battery (up to 33V)
$Comp
L R_MINI R27
U 1 1 50CDAD4C
P 6200 7250
F 0 "R27" H 6250 7200 25  0000 C CNN
F 1 "100k" H 6200 7300 25  0000 C CNN
	1    6200 7250
	0    1    1    0   
$EndComp
$Comp
L R_MINI R28
U 1 1 50CDAD52
P 6200 7950
F 0 "R28" H 6250 7900 25  0000 C CNN
F 1 "100K" H 6200 8000 25  0000 C CNN
	1    6200 7950
	0    1    1    0   
$EndComp
$Comp
L R_MINI R34
U 1 1 50FDCF52
P 11800 1850
F 0 "R34" H 11850 1800 25  0000 C CNN
F 1 "6K8 1%" H 11800 1900 25  0000 C CNN
	1    11800 1850
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR53
U 1 1 50FDCF58
P 11800 2050
F 0 "#PWR53" H 11800 2050 30  0001 C CNN
F 1 "GND" H 11800 1980 30  0001 C CNN
	1    11800 2050
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R37
U 1 1 50FDD52A
P 11950 1850
F 0 "R37" H 12000 1800 25  0000 C CNN
F 1 "6K8 1%" H 11950 1900 25  0000 C CNN
	1    11950 1850
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR55
U 1 1 50FDD530
P 11950 2050
F 0 "#PWR55" H 11950 2050 30  0001 C CNN
F 1 "GND" H 11950 1980 30  0001 C CNN
	1    11950 2050
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R39
U 1 1 50FDD537
P 12100 1850
F 0 "R39" H 12150 1800 25  0000 C CNN
F 1 "6K8 1%" H 12100 1900 25  0000 C CNN
	1    12100 1850
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR57
U 1 1 50FDD53D
P 12100 2050
F 0 "#PWR57" H 12100 2050 30  0001 C CNN
F 1 "GND" H 12100 1980 30  0001 C CNN
	1    12100 2050
	1    0    0    -1  
$EndComp
$Comp
L CONN_8X2 P2
U 1 1 50FDDAE2
P 11900 8000
F 0 "P2" H 11900 8450 60  0000 C CNN
F 1 "EXT1" V 11900 8000 50  0000 C CNN
	1    11900 8000
	1    0    0    -1  
$EndComp
$Comp
L CONN_8X2 P5
U 1 1 50FDDAF9
P 11900 9150
F 0 "P5" H 11900 9600 60  0000 C CNN
F 1 "EXT2" V 11900 9150 50  0000 C CNN
	1    11900 9150
	1    0    0    -1  
$EndComp
Text Label 9850 8050 0    60   ~ 0
Throttle_signal (STM32F100 PA0)
Text Label 12450 8050 0    60   ~ 0
Voltage_signal (STM32F100 PA1)
Text Label 9850 7950 0    60   ~ 0
Current_signal (STM32F100 PA2)
Text Label 14550 7950 2    60   ~ 0
Mosfets_temperature_signal (STM32F100 PA3)
Text Label 9850 9200 0    60   ~ 0
Brake_signal (STM32F100 PB12)
$Comp
L GND #PWR49
U 1 1 50FDECD7
P 11400 8400
F 0 "#PWR49" H 11400 8400 30  0001 C CNN
F 1 "GND" H 11400 8330 30  0001 C CNN
	1    11400 8400
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR59
U 1 1 50FDF1A0
P 12450 8250
F 0 "#PWR59" H 12450 8340 20  0001 C CNN
F 1 "+5V" V 12450 8400 30  0000 C CNN
	1    12450 8250
	0    1    1    0   
$EndComp
Wire Wire Line
	2300 1750 2950 1750
Wire Wire Line
	2950 1750 3250 1750
Wire Wire Line
	3250 1750 3450 1750
Wire Wire Line
	3450 1750 3650 1750
Wire Wire Line
	3650 1750 3850 1750
Connection ~ 3650 1200
Wire Wire Line
	3650 1200 3650 1350
Connection ~ 2950 1750
Wire Wire Line
	2950 1750 2950 1650
Wire Wire Line
	7600 1800 7600 2050
Wire Wire Line
	9250 4950 9450 4950
Wire Wire Line
	9250 4950 9250 5200
Wire Wire Line
	2300 1750 2300 1400
Wire Wire Line
	2300 1400 2150 1400
Connection ~ 6200 7400
Wire Wire Line
	6200 7400 6200 7350
Connection ~ 6200 7800
Wire Wire Line
	6200 7850 6200 7800
Connection ~ 6200 7100
Wire Wire Line
	6200 7150 6200 7100
Wire Wire Line
	5950 7300 6050 7300
Wire Wire Line
	5950 7500 6050 7500
Wire Wire Line
	7800 6650 6600 6650
Connection ~ 6600 7400
Wire Wire Line
	6050 7500 6050 7800
Wire Wire Line
	6050 7100 6200 7100
Wire Wire Line
	6200 7100 6300 7100
Wire Wire Line
	6050 7300 6050 7100
Wire Wire Line
	5300 7400 5600 7400
Wire Wire Line
	5600 7400 6200 7400
Wire Wire Line
	6200 7400 6600 7400
Wire Wire Line
	6600 7400 7400 7400
Wire Wire Line
	6050 7800 6200 7800
Wire Wire Line
	6200 7800 6300 7800
Wire Wire Line
	6600 7200 6600 7400
Wire Wire Line
	6600 7400 6600 7500
Wire Wire Line
	6600 6650 6600 6800
Connection ~ 6200 5600
Wire Wire Line
	6200 5600 6200 5550
Connection ~ 6200 6000
Wire Wire Line
	6200 6050 6200 6000
Connection ~ 6200 5300
Wire Wire Line
	6200 5350 6200 5300
Wire Wire Line
	5950 5500 6050 5500
Wire Wire Line
	5950 5700 6050 5700
Wire Wire Line
	7800 4850 6600 4850
Connection ~ 6600 5600
Wire Wire Line
	6050 5700 6050 6000
Wire Wire Line
	6050 5300 6200 5300
Wire Wire Line
	6200 5300 6300 5300
Wire Wire Line
	6050 5500 6050 5300
Wire Wire Line
	5300 5600 5600 5600
Wire Wire Line
	5600 5600 6200 5600
Wire Wire Line
	6200 5600 6600 5600
Wire Wire Line
	6600 5600 7400 5600
Wire Wire Line
	6050 6000 6200 6000
Wire Wire Line
	6200 6000 6300 6000
Wire Wire Line
	6600 5400 6600 5600
Wire Wire Line
	6600 5600 6600 5700
Wire Wire Line
	6600 4850 6600 5000
Connection ~ 6200 3800
Wire Wire Line
	6200 3800 6200 3750
Wire Wire Line
	6200 4450 6200 4550
Connection ~ 6200 4200
Wire Wire Line
	6200 4250 6200 4200
Connection ~ 6200 3500
Wire Wire Line
	6200 3550 6200 3500
Connection ~ 2950 1200
Wire Wire Line
	2950 1200 2950 1250
Connection ~ 5600 7400
Connection ~ 5600 5600
Wire Wire Line
	5950 3700 6050 3700
Wire Wire Line
	5950 3900 6050 3900
Connection ~ 5600 3800
Connection ~ 3850 7300
Wire Wire Line
	3850 7450 3850 7300
Connection ~ 3700 7400
Wire Wire Line
	3700 7450 3700 7400
Wire Wire Line
	3700 7650 3700 7750
Wire Wire Line
	3850 7650 3850 7750
Connection ~ 3850 5500
Wire Wire Line
	3850 5650 3850 5500
Connection ~ 3700 5600
Wire Wire Line
	3700 5650 3700 5600
Wire Wire Line
	3700 5850 3700 5950
Wire Wire Line
	3850 5850 3850 5950
Connection ~ 3850 3700
Wire Wire Line
	3850 3850 3850 3700
Connection ~ 3700 3800
Wire Wire Line
	3700 3850 3700 3800
Wire Wire Line
	3700 4050 3700 4150
Wire Wire Line
	3850 4050 3850 4150
Wire Wire Line
	4300 8850 4200 8850
Wire Wire Line
	1400 7300 3850 7300
Wire Wire Line
	3850 7300 4150 7300
Wire Wire Line
	5300 7500 5750 7500
Connection ~ 5400 6950
Wire Wire Line
	4850 6950 5400 6950
Wire Wire Line
	5400 6950 5600 6950
Wire Wire Line
	5600 6950 5600 7050
Wire Wire Line
	5300 7200 5400 7200
Wire Wire Line
	5400 7200 5400 6950
Connection ~ 4000 7500
Wire Wire Line
	4000 7450 4000 7500
Wire Wire Line
	4000 7500 4000 7750
Wire Wire Line
	4000 7200 4150 7200
Wire Wire Line
	4150 7500 4000 7500
Wire Wire Line
	4000 6900 4000 6950
Wire Wire Line
	4000 6950 4000 7200
Wire Wire Line
	4000 7200 4000 7250
Connection ~ 4000 7200
Wire Wire Line
	4550 6950 4000 6950
Connection ~ 4000 6950
Wire Wire Line
	5600 7250 5600 7400
Wire Wire Line
	5300 7300 5750 7300
Wire Wire Line
	1400 7400 3700 7400
Wire Wire Line
	3700 7400 4150 7400
Wire Wire Line
	1400 5600 3700 5600
Wire Wire Line
	3700 5600 4150 5600
Wire Wire Line
	5300 5500 5750 5500
Wire Wire Line
	5600 5450 5600 5600
Connection ~ 4000 5150
Wire Wire Line
	4000 5150 4550 5150
Connection ~ 4000 5400
Wire Wire Line
	4000 5100 4000 5150
Wire Wire Line
	4000 5150 4000 5400
Wire Wire Line
	4000 5400 4000 5450
Wire Wire Line
	4150 5700 4000 5700
Wire Wire Line
	4000 5400 4150 5400
Wire Wire Line
	4000 5650 4000 5700
Wire Wire Line
	4000 5700 4000 5950
Connection ~ 4000 5700
Wire Wire Line
	5400 5150 5400 5400
Wire Wire Line
	5400 5400 5300 5400
Wire Wire Line
	5600 5150 5600 5250
Wire Wire Line
	4850 5150 5400 5150
Wire Wire Line
	5400 5150 5600 5150
Connection ~ 5400 5150
Wire Wire Line
	5300 5700 5750 5700
Wire Wire Line
	1400 5500 3850 5500
Wire Wire Line
	3850 5500 4150 5500
Wire Wire Line
	7800 3050 6600 3050
Connection ~ 6600 3800
Wire Wire Line
	6050 3900 6050 4200
Wire Wire Line
	6050 3500 6200 3500
Wire Wire Line
	6200 3500 6300 3500
Wire Wire Line
	6050 3700 6050 3500
Wire Wire Line
	1400 3700 3850 3700
Wire Wire Line
	3850 3700 4150 3700
Wire Wire Line
	5300 3900 5750 3900
Connection ~ 5400 3350
Wire Wire Line
	4850 3350 5400 3350
Wire Wire Line
	5400 3350 5600 3350
Wire Wire Line
	5600 3350 5600 3450
Wire Wire Line
	5300 3600 5400 3600
Wire Wire Line
	5400 3600 5400 3350
Connection ~ 4000 3900
Wire Wire Line
	4000 3850 4000 3900
Wire Wire Line
	4000 3900 4000 4150
Wire Wire Line
	4000 3600 4150 3600
Wire Wire Line
	2150 1200 2950 1200
Wire Wire Line
	2950 1200 3250 1200
Wire Wire Line
	3250 1200 3450 1200
Wire Wire Line
	3450 1200 3650 1200
Wire Wire Line
	3650 1200 3850 1200
Wire Wire Line
	3850 1200 4100 1200
Wire Wire Line
	8700 1900 8700 2050
Wire Wire Line
	8550 1400 8700 1400
Wire Wire Line
	6850 1400 7000 1400
Wire Wire Line
	7000 1400 7250 1400
Wire Wire Line
	7250 1400 7600 1400
Wire Wire Line
	7600 1400 7750 1400
Connection ~ 7000 1700
Wire Wire Line
	7000 1700 6750 1700
Wire Wire Line
	6750 1700 6750 1950
Wire Wire Line
	6750 1950 6350 1950
Wire Wire Line
	6350 1950 6350 1600
Wire Wire Line
	6350 1600 6150 1600
Connection ~ 7000 1400
Wire Wire Line
	7000 1450 7000 1400
Wire Wire Line
	7250 1900 7250 2050
Connection ~ 6500 1400
Wire Wire Line
	6150 1400 6250 1400
Wire Wire Line
	6250 1400 6500 1400
Wire Wire Line
	6500 1400 6650 1400
Connection ~ 6250 1400
Wire Wire Line
	6500 1400 6500 1450
Wire Wire Line
	6150 1800 6250 1800
Connection ~ 12600 1550
Wire Wire Line
	12600 1550 12600 1750
Connection ~ 12450 1450
Wire Wire Line
	12450 1450 12450 1750
Wire Notes Line
	8950 9700 14950 9700
Wire Wire Line
	11400 1850 11500 1850
Wire Wire Line
	11500 1850 11500 2000
Wire Wire Line
	9500 3150 9500 2700
Wire Wire Line
	9500 2700 9350 2700
Wire Notes Line
	9850 7350 8950 7350
Wire Wire Line
	9800 4050 11350 4050
Wire Wire Line
	10200 2800 11750 2800
Wire Notes Line
	8950 7350 8950 9700
Wire Notes Line
	14950 9700 14950 7350
Wire Wire Line
	11400 1550 11950 1550
Wire Wire Line
	11950 1550 12600 1550
Wire Wire Line
	12600 1550 14650 1550
Wire Wire Line
	11400 1650 12100 1650
Wire Wire Line
	12100 1650 12750 1650
Wire Wire Line
	12750 1650 14650 1650
Wire Wire Line
	11400 1450 11800 1450
Wire Wire Line
	11800 1450 12450 1450
Wire Wire Line
	12450 1450 14650 1450
Wire Wire Line
	10350 5800 10450 5800
Wire Wire Line
	10450 5800 11800 5800
Wire Wire Line
	2850 8850 1550 8850
Wire Wire Line
	12550 3000 13900 3000
Wire Wire Line
	13900 4100 13700 4100
Wire Wire Line
	13700 4350 13700 4200
Wire Wire Line
	1800 9550 1800 9450
Wire Wire Line
	1550 9450 1550 9550
Wire Wire Line
	1550 9150 1550 9200
Wire Wire Line
	1550 9200 1550 9250
Connection ~ 1550 9200
Connection ~ 9500 4350
Wire Wire Line
	9500 4350 9400 4350
Wire Wire Line
	9400 4350 9400 4250
Wire Wire Line
	9400 4250 9350 4250
Wire Wire Line
	9500 3700 9500 3800
Connection ~ 9500 4050
Wire Wire Line
	9500 4300 9500 4350
Wire Wire Line
	9500 4350 9500 4400
Wire Wire Line
	9900 3150 9900 3050
Connection ~ 10050 5800
Wire Wire Line
	10050 5750 10050 5800
Wire Wire Line
	10050 5800 10050 5850
Wire Wire Line
	9650 6150 9650 5950
Wire Wire Line
	9650 5350 9650 5700
Wire Wire Line
	9650 5700 9650 5750
Wire Wire Line
	9850 6150 9850 5600
Wire Wire Line
	9850 5600 9500 5600
Wire Wire Line
	9500 5700 9650 5700
Connection ~ 9650 5700
Wire Wire Line
	9500 5500 10050 5500
Wire Wire Line
	10050 5500 10050 5550
Wire Wire Line
	10050 6050 10050 6150
Wire Wire Line
	9700 3050 9700 3150
Wire Wire Line
	9700 2550 9700 2500
Wire Wire Line
	9700 2500 9350 2500
Wire Wire Line
	9450 2600 9350 2600
Wire Wire Line
	9700 2750 9700 2800
Wire Wire Line
	9700 2800 9700 2850
Connection ~ 9700 2800
Wire Wire Line
	9900 2850 9900 2800
Connection ~ 9900 2800
Wire Wire Line
	9500 4000 9500 4050
Wire Wire Line
	9500 4050 9500 4100
Wire Wire Line
	1550 8850 1550 8950
Wire Wire Line
	1800 9250 1800 9200
Connection ~ 1800 9200
Wire Wire Line
	11450 1750 11400 1750
Wire Wire Line
	13700 4200 13900 4200
Wire Wire Line
	13700 4100 13700 4000
Wire Wire Line
	12550 3100 13900 3100
Wire Wire Line
	1550 9200 1800 9200
Wire Wire Line
	1800 9200 1900 9200
Wire Wire Line
	10150 5800 10050 5800
Wire Wire Line
	2100 9200 3700 9200
Wire Wire Line
	9700 2800 9900 2800
Wire Wire Line
	9900 2800 10000 2800
Wire Wire Line
	9350 4050 9500 4050
Wire Wire Line
	9500 4050 9600 4050
Wire Notes Line
	14950 7350 9800 7350
Wire Wire Line
	10450 6150 10450 6000
Connection ~ 10450 5800
Wire Wire Line
	12450 2050 12450 1950
Wire Wire Line
	12600 2050 12600 1950
Wire Wire Line
	12750 2050 12750 1950
Wire Wire Line
	12750 1750 12750 1650
Connection ~ 12750 1650
Wire Wire Line
	4400 1200 4500 1200
Wire Wire Line
	4500 1200 4800 1200
Wire Wire Line
	4800 1200 4900 1200
Wire Wire Line
	4500 1250 4500 1200
Wire Wire Line
	4500 1650 4500 1750
Connection ~ 4500 1200
Wire Wire Line
	4900 1800 4800 1800
Wire Wire Line
	4800 1800 4800 2050
Wire Wire Line
	6250 1800 6250 2050
Wire Wire Line
	4900 1600 4800 1600
Wire Wire Line
	4900 1400 4800 1400
Wire Wire Line
	4800 1400 4800 1200
Connection ~ 4800 1200
Wire Wire Line
	6250 1200 6150 1200
Wire Wire Line
	6500 1750 6500 1800
Wire Wire Line
	7000 1650 7000 1700
Wire Wire Line
	7000 1700 7000 1750
Wire Wire Line
	7000 1950 7000 2050
Wire Wire Line
	7250 1300 7250 1400
Wire Wire Line
	7250 1400 7250 1500
Connection ~ 7250 1400
Wire Wire Line
	8150 1700 8150 2050
Wire Wire Line
	8700 1300 8700 1400
Wire Wire Line
	8700 1400 8700 1500
Connection ~ 8700 1400
Wire Wire Line
	4150 3900 4000 3900
Wire Wire Line
	4000 3300 4000 3350
Wire Wire Line
	4000 3350 4000 3600
Wire Wire Line
	4000 3600 4000 3650
Connection ~ 4000 3600
Wire Wire Line
	4550 3350 4000 3350
Connection ~ 4000 3350
Wire Wire Line
	5300 3800 5600 3800
Wire Wire Line
	5600 3800 6200 3800
Wire Wire Line
	6200 3800 6600 3800
Wire Wire Line
	6600 3800 7400 3800
Wire Wire Line
	5600 3650 5600 3800
Wire Wire Line
	5300 3700 5750 3700
Wire Wire Line
	1400 3800 3700 3800
Wire Wire Line
	3700 3800 4150 3800
Wire Wire Line
	6050 4200 6200 4200
Wire Wire Line
	6200 4200 6300 4200
Wire Wire Line
	6600 3600 6600 3800
Wire Wire Line
	6600 3800 6600 3900
Wire Wire Line
	6600 3050 6600 3200
Wire Wire Line
	4900 9550 4900 9600
Wire Wire Line
	4200 9600 4200 9350
Wire Wire Line
	4200 8750 4200 8850
Wire Wire Line
	4200 8850 4200 9150
Connection ~ 4200 8850
Connection ~ 6000 9150
Wire Wire Line
	6000 9200 6000 9150
Connection ~ 5800 9150
Wire Wire Line
	5800 9100 5800 9150
Wire Wire Line
	5800 9150 5800 9200
Wire Wire Line
	5450 8850 5800 8850
Wire Wire Line
	5800 8850 5800 8900
Wire Wire Line
	5800 9400 5800 9500
Wire Wire Line
	6000 9500 6000 9400
Wire Wire Line
	5800 9150 6000 9150
Wire Wire Line
	6000 9150 8150 9150
Wire Wire Line
	9250 6000 9250 6400
Wire Wire Line
	9250 6400 9900 6400
Wire Wire Line
	9450 4950 9450 5100
Wire Wire Line
	7600 1400 7600 1600
Connection ~ 7600 1400
Wire Wire Line
	6600 4300 6600 4550
Wire Wire Line
	6600 7900 6600 8150
Wire Wire Line
	6200 8050 6200 8150
Wire Wire Line
	6200 6250 6200 6350
Wire Wire Line
	6600 6100 6600 6350
Wire Wire Line
	3650 1550 3650 1750
Connection ~ 3650 1750
Wire Wire Line
	3850 1750 3850 1550
Wire Wire Line
	3850 1200 3850 1350
Wire Wire Line
	3450 1200 3450 1350
Wire Wire Line
	3450 1550 3450 1750
Wire Wire Line
	3250 1550 3250 1750
Wire Wire Line
	3250 1200 3250 1350
Connection ~ 3850 1750
Connection ~ 3850 1200
Connection ~ 3250 1200
Connection ~ 3450 1200
Connection ~ 3450 1750
Connection ~ 3250 1750
Wire Wire Line
	11800 1950 11800 2050
Wire Wire Line
	11800 1350 11800 1450
Wire Wire Line
	11800 1450 11800 1750
Connection ~ 11800 1450
Wire Wire Line
	11950 1950 11950 2050
Wire Wire Line
	12100 1950 12100 2050
Wire Wire Line
	11950 1350 11950 1550
Wire Wire Line
	11950 1550 11950 1750
Connection ~ 11950 1550
Wire Wire Line
	12100 1350 12100 1650
Wire Wire Line
	12100 1650 12100 1750
Connection ~ 12100 1650
Wire Wire Line
	11500 8050 9850 8050
Wire Wire Line
	12300 8050 13950 8050
Wire Wire Line
	11500 7950 9850 7950
Wire Wire Line
	12300 7950 14550 7950
Wire Wire Line
	11500 9200 9850 9200
Wire Wire Line
	11400 8400 11400 8350
Wire Wire Line
	11400 8350 11500 8350
Wire Wire Line
	12450 8350 12300 8350
Wire Wire Line
	12450 8250 12300 8250
$Comp
L +5V #PWR52
U 1 1 50FDFBA3
P 11800 1050
F 0 "#PWR52" H 11800 1140 20  0001 C CNN
F 1 "+5V" H 11800 1140 30  0000 C CNN
	1    11800 1050
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R30
U 1 1 50FDFBA9
P 11800 1250
F 0 "R30" H 11900 1200 25  0000 C CNN
F 1 "3K6" H 11800 1300 25  0000 C CNN
	1    11800 1250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	11800 1050 11800 1150
$Comp
L +5V #PWR54
U 1 1 50FDFBB1
P 11950 1050
F 0 "#PWR54" H 11950 1140 20  0001 C CNN
F 1 "+5V" H 11950 1140 30  0000 C CNN
	1    11950 1050
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R35
U 1 1 50FDFBB7
P 11950 1250
F 0 "R35" H 12050 1200 25  0000 C CNN
F 1 "3K6" H 11950 1300 25  0000 C CNN
	1    11950 1250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	11950 1050 11950 1150
$Comp
L +5V #PWR56
U 1 1 50FDFBBF
P 12100 1050
F 0 "#PWR56" H 12100 1140 20  0001 C CNN
F 1 "+5V" H 12100 1140 30  0000 C CNN
	1    12100 1050
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R38
U 1 1 50FDFBC5
P 12100 1250
F 0 "R38" H 12200 1200 25  0000 C CNN
F 1 "3K6" H 12100 1300 25  0000 C CNN
	1    12100 1250
	0    -1   -1   0   
$EndComp
Wire Wire Line
	12100 1050 12100 1150
Text Label 12450 8900 0    60   ~ 0
PWM for mosfet phase_a low (STM32F100 PB13)
Text Label 9100 9000 0    60   ~ 0
PWM for mosfet phase_a high (STM32F100 PA8)
Wire Wire Line
	9100 9000 11500 9000
Wire Wire Line
	12300 8900 14700 8900
Text Label 9100 8900 0    60   ~ 0
PWM for mosfet phase_b low (STM32F100 PB14)
Wire Wire Line
	9100 8900 11500 8900
Text Label 12450 9100 0    60   ~ 0
PWM for mosfet phase_b high (STM32F100 PA9)
Wire Wire Line
	12300 9100 14700 9100
Text Label 9100 9100 0    60   ~ 0
PWM for mosfet phase_c high (STM32F100 PA10)
Wire Wire Line
	9100 9100 11500 9100
Text Label 12450 9000 0    60   ~ 0
PWM for mosfet phase_c low (STM32F100 PB15)
Wire Wire Line
	12300 9000 14700 9000
Text Label 9600 7750 0    60   ~ 0
Hall sensor phase_a (STM32F100 PA6)
Wire Wire Line
	9600 7750 11500 7750
Text Label 12450 7750 0    60   ~ 0
Hall sensor phase_b (STM32F100 PA7)
Wire Wire Line
	12300 7750 14250 7750
Text Label 9600 7650 0    60   ~ 0
Hall sensor phase_c (STM32F100 PB0)
Wire Wire Line
	9600 7650 11500 7650
Text Label 12450 8800 0    60   ~ 0
UART TX (STM32F100 PB10)
Wire Wire Line
	12300 8800 13700 8800
Text Label 10050 8800 0    60   ~ 0
UART RX (STM32F100 PB11)
Wire Wire Line
	10050 8800 11500 8800
NoConn ~ 12300 8150
NoConn ~ 11500 8150
NoConn ~ 11500 8250
NoConn ~ 12300 7850
NoConn ~ 11500 7850
NoConn ~ 12300 9200
NoConn ~ 12300 9300
NoConn ~ 12300 9400
NoConn ~ 12300 9500
NoConn ~ 11500 9300
NoConn ~ 11500 9400
NoConn ~ 11500 9500
NoConn ~ 12300 7650
$EndSCHEMATC
