EESchema Schematic File Version 2  date Qui 13 Dez 2012 12:09:08 WET
LIBS:Allegro_ACS754_ACS755_ACS756_HallCurrentSensor_RevA
LIBS:ac-dc
LIBS:conn
LIBS:contrib
LIBS:dc-dc
LIBS:device
LIBS:elec-unifil
LIBS:gennum
LIBS:hc11
LIBS:intel
LIBS:interface
LIBS:linear
LIBS:memory
LIBS:microcontrollers
LIBS:nxp_armmcu
LIBS:power
LIBS:powerint
LIBS:pspice
LIBS:regul
LIBS:sensors
LIBS:special
LIBS:transistors
LIBS:ttl_ieee
LIBS:opendous
LIBS:R2C2_bluetooth
LIBS:max5035
LIBS:EBike_Smart_Controller-cache
EELAYER 25  0
EELAYER END
$Descr A2 23400 16535
encoding utf-8
Sheet 1 1
Title "EBike Smart Controller"
Date "13 dec 2012"
Rev "V0.1"
Comp "Author: Jorge Pinto aka Casainho (casainho@gmail.com)"
Comment1 "License: GPL V3"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Connection ~ 4600 2050
Wire Wire Line
	4600 1950 4600 2050
Wire Wire Line
	4600 2050 4600 2100
Wire Wire Line
	1500 1300 1500 1150
Wire Wire Line
	1500 1150 1450 1150
Wire Notes Line
	12450 6450 22400 6450
Wire Notes Line
	12450 6450 12450 800 
Wire Notes Line
	12450 800  22400 800 
Wire Wire Line
	13150 5400 16200 5400
Wire Wire Line
	4350 2650 4350 2700
Wire Wire Line
	4350 2350 4350 2400
Wire Wire Line
	4350 2400 4350 2450
Wire Wire Line
	4200 2050 4350 2050
Wire Wire Line
	4350 2050 4600 2050
Wire Wire Line
	3850 2400 3850 2700
Wire Wire Line
	3600 1850 3500 1850
Connection ~ 2150 1850
Wire Wire Line
	2150 1850 2150 2050
Wire Wire Line
	2150 2050 2250 2050
Wire Wire Line
	2250 2250 2150 2250
Wire Wire Line
	3600 2700 3600 2450
Wire Wire Line
	2150 2700 2150 2450
Wire Wire Line
	2150 2450 2250 2450
Connection ~ 1850 1850
Wire Wire Line
	1850 2300 1850 2400
Wire Wire Line
	1850 1850 1850 1900
Wire Wire Line
	2250 1850 2150 1850
Wire Wire Line
	2150 1850 1850 1850
Wire Wire Line
	1850 1850 1750 1850
Wire Wire Line
	13150 5800 15850 5800
Wire Wire Line
	15850 5800 15850 5150
Wire Wire Line
	13150 5700 15700 5700
Wire Wire Line
	15700 4850 15700 4950
Wire Wire Line
	15550 5150 15550 5600
Wire Wire Line
	15550 5600 13150 5600
Wire Wire Line
	16350 5750 16350 5850
Wire Wire Line
	16200 5400 16200 5550
Wire Wire Line
	16050 5750 16050 5850
Connection ~ 15550 1650
Wire Wire Line
	15550 1750 15550 1650
Wire Wire Line
	15550 2050 15550 1950
Wire Wire Line
	15400 2050 15400 1950
Wire Wire Line
	15250 2050 15250 1950
Connection ~ 8350 9950
Wire Wire Line
	8350 10300 8350 10150
Wire Wire Line
	19400 6050 19400 6100
Wire Notes Line
	17000 3850 22150 3850
Wire Wire Line
	19000 4700 16650 4700
Wire Wire Line
	19000 5200 16650 5200
Wire Wire Line
	19800 4400 21900 4400
Wire Wire Line
	21900 4500 19800 4500
Wire Wire Line
	6750 12200 9150 12200
Wire Wire Line
	6750 12400 9150 12400
Wire Wire Line
	6750 12000 9150 12000
Wire Wire Line
	14200 4100 14100 4100
Wire Wire Line
	14100 4100 13950 4100
Wire Wire Line
	14600 2850 14500 2850
Wire Wire Line
	14500 2850 14300 2850
Wire Notes Line
	22400 800  22400 6450
Wire Wire Line
	15450 6000 13150 6000
Wire Wire Line
	15450 5900 13150 5900
Wire Wire Line
	13300 4950 13300 5100
Wire Wire Line
	13300 5100 13150 5100
Wire Wire Line
	13400 5200 13150 5200
Wire Wire Line
	17350 1650 15550 1650
Wire Wire Line
	15550 1650 15050 1650
Wire Wire Line
	17350 1450 15250 1450
Wire Wire Line
	15250 1450 15050 1450
Wire Wire Line
	14850 1550 14500 1550
Wire Wire Line
	14500 1550 14000 1550
Wire Wire Line
	7700 11100 9300 11100
Wire Wire Line
	8050 9950 7950 9950
Wire Wire Line
	7500 11100 7400 11100
Wire Wire Line
	7400 11100 7150 11100
Wire Wire Line
	17700 4100 19000 4100
Wire Wire Line
	17150 4200 19000 4200
Wire Wire Line
	17150 4400 19000 4400
Wire Wire Line
	20000 5900 20000 6000
Wire Wire Line
	19800 5000 20000 5000
Wire Wire Line
	18150 1550 19500 1550
Wire Wire Line
	19300 2450 19300 2550
Wire Wire Line
	19500 2650 19300 2650
Connection ~ 14500 1550
Wire Wire Line
	14500 1350 14500 1550
Wire Wire Line
	14700 1050 14700 1150
Wire Wire Line
	14500 1050 14500 1150
Wire Wire Line
	14300 1050 14300 1150
Wire Wire Line
	14050 1750 14000 1750
Connection ~ 7400 11100
Wire Wire Line
	7400 11150 7400 11100
Wire Wire Line
	7150 10850 7150 10750
Wire Wire Line
	14100 4150 14100 4100
Wire Wire Line
	14100 4100 14100 4050
Connection ~ 14500 2850
Wire Wire Line
	14500 2900 14500 2850
Connection ~ 14300 2850
Wire Wire Line
	14300 2900 14300 2850
Wire Wire Line
	14300 2850 14300 2800
Wire Wire Line
	14050 2650 13950 2650
Wire Wire Line
	13950 2550 14300 2550
Wire Wire Line
	14300 2550 14300 2600
Wire Wire Line
	14300 3100 14300 3200
Wire Wire Line
	7950 10200 7950 10300
Wire Wire Line
	7950 9700 7950 9650
Wire Wire Line
	7950 9650 7400 9650
Connection ~ 7550 9850
Wire Wire Line
	7400 9850 7550 9850
Wire Wire Line
	7150 9350 7150 9200
Wire Wire Line
	7150 10150 7150 10300
Wire Wire Line
	7400 9750 7750 9750
Wire Wire Line
	7750 9750 7750 10300
Wire Wire Line
	7150 9200 7700 9200
Wire Wire Line
	7550 9900 7550 9850
Wire Wire Line
	7550 9850 7550 9500
Wire Wire Line
	7550 10300 7550 10100
Wire Wire Line
	7950 10000 7950 9950
Wire Wire Line
	7950 9950 7950 9900
Connection ~ 7950 9950
Wire Wire Line
	14500 3200 14500 3100
Wire Wire Line
	14100 4450 14100 4400
Wire Wire Line
	14100 4400 14100 4350
Connection ~ 14100 4100
Wire Wire Line
	14100 3750 14100 3850
Wire Wire Line
	13950 4300 14000 4300
Wire Wire Line
	14000 4300 14000 4400
Wire Wire Line
	14000 4400 14100 4400
Connection ~ 14100 4400
Connection ~ 7150 11100
Wire Wire Line
	7150 11150 7150 11100
Wire Wire Line
	7150 11100 7150 11050
Wire Wire Line
	7150 11350 7150 11450
Wire Wire Line
	7400 11450 7400 11350
Wire Wire Line
	14300 1350 14300 1450
Connection ~ 14300 1450
Wire Wire Line
	14700 1350 14700 1650
Connection ~ 14700 1650
Wire Wire Line
	19300 2650 19300 2800
Wire Wire Line
	19300 2550 19500 2550
Wire Wire Line
	18150 1450 19500 1450
Wire Wire Line
	20000 5000 20000 5150
Wire Wire Line
	20000 6000 19800 6000
Wire Wire Line
	17350 5400 19000 5400
Wire Wire Line
	19800 5400 21450 5400
Wire Wire Line
	19800 4600 21450 4600
Wire Wire Line
	19800 5300 21450 5300
Wire Wire Line
	17150 4300 19000 4300
Wire Wire Line
	21400 4100 19800 4100
Wire Wire Line
	7150 10750 8450 10750
Wire Wire Line
	9150 12600 8900 12600
Wire Wire Line
	9150 12700 9000 12700
Wire Wire Line
	9000 12700 9000 12850
Wire Wire Line
	7500 11900 9150 11900
Wire Wire Line
	7500 11800 9150 11800
Wire Wire Line
	9700 9950 8350 9950
Wire Wire Line
	8350 9950 8250 9950
Wire Wire Line
	14850 1450 14300 1450
Wire Wire Line
	14300 1450 14000 1450
Wire Wire Line
	14850 1650 14700 1650
Wire Wire Line
	14700 1650 14000 1650
Wire Wire Line
	17350 1550 15400 1550
Wire Wire Line
	15400 1550 15050 1550
Wire Notes Line
	22150 3850 22150 6200
Wire Notes Line
	16550 3850 16550 6200
Wire Wire Line
	14800 2850 16350 2850
Wire Wire Line
	14400 4100 15900 4100
Wire Wire Line
	6750 12300 9150 12300
Wire Wire Line
	6750 12100 9150 12100
Wire Wire Line
	6750 12500 9150 12500
Wire Wire Line
	16850 4500 19000 4500
Wire Wire Line
	19800 4700 22100 4700
Wire Notes Line
	16550 3850 17050 3850
Wire Wire Line
	13950 2750 14100 2750
Wire Wire Line
	14100 2750 14100 3200
Wire Wire Line
	14100 2000 14100 1850
Wire Wire Line
	14100 1850 14000 1850
Wire Wire Line
	19400 6100 19650 6100
Wire Notes Line
	16550 6200 22150 6200
Wire Wire Line
	15250 1750 15250 1450
Connection ~ 15250 1450
Wire Wire Line
	15400 1750 15400 1550
Connection ~ 15400 1550
Wire Wire Line
	16050 5550 16050 5500
Wire Wire Line
	16200 5750 16200 5850
Wire Wire Line
	16350 5550 16350 5300
Wire Wire Line
	15550 4850 15550 4950
Wire Wire Line
	15700 5700 15700 5150
Wire Wire Line
	15850 4850 15850 4950
Wire Wire Line
	3600 2450 3500 2450
Wire Wire Line
	3850 2050 3850 2100
Connection ~ 3600 2050
Wire Wire Line
	3500 2050 3600 2050
Wire Wire Line
	3600 2050 3850 2050
Wire Wire Line
	3850 2050 4000 2050
Connection ~ 3850 2050
Wire Wire Line
	4600 2500 4600 2700
Wire Wire Line
	4350 2150 4350 2050
Connection ~ 4350 2050
Wire Wire Line
	3500 2250 3700 2250
Wire Wire Line
	3700 2250 3700 2500
Wire Wire Line
	3700 2500 4100 2500
Wire Wire Line
	4100 2500 4100 2400
Wire Wire Line
	4100 2400 4350 2400
Connection ~ 4350 2400
Wire Wire Line
	16350 5300 13150 5300
Wire Wire Line
	16050 5500 13150 5500
Wire Wire Line
	15450 6100 13150 6100
Wire Wire Line
	1950 950  1450 950 
Wire Wire Line
	1450 1850 950  1850
$Comp
L +12V #PWR7
U 1 1 50C9C4C9
P 4600 1950
F 0 "#PWR7" H 4600 1900 20  0001 C CNN
F 1 "+12V" H 4600 2050 30  0000 C CNN
	1    4600 1950
	1    0    0    -1  
$EndComp
Text Label 950  1850 0    60   ~ 0
Battery +
Text Label 1500 950  0    60   ~ 0
Battery +
$Comp
L GND #PWR1
U 1 1 50C9C474
P 1500 1300
F 0 "#PWR1" H 1500 1300 30  0001 C CNN
F 1 "GND" H 1500 1230 30  0001 C CNN
	1    1500 1300
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P6
U 1 1 50C9C473
P 1100 1050
F 0 "P6" V 1050 1050 40  0000 C CNN
F 1 "Battery input" V 1250 1050 40  0000 C CNN
	1    1100 1050
	-1   0    0    1   
$EndComp
Text Label 15250 6100 2    60   ~ 0
Mosfets_temperature_signal (LPC2103 P0.??)
$Comp
L CONN_11 P7
U 1 1 50C9C3D4
P 12800 5600
F 0 "P7" V 12750 5600 60  0000 C CNN
F 1 "CONN_11" V 12850 5600 60  0000 C CNN
	1    12800 5600
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR6
U 1 1 50C9C10E
P 4350 2700
F 0 "#PWR6" H 4350 2700 30  0001 C CNN
F 1 "GND" H 4350 2630 30  0001 C CNN
	1    4350 2700
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R25
U 1 1 50C9C0F1
P 4350 2550
F 0 "R25" H 4400 2500 25  0000 C CNN
F 1 "10k 1%" H 4350 2600 25  0000 C CNN
	1    4350 2550
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R24
U 1 1 50C9C0EE
P 4350 2250
F 0 "R24" H 4400 2200 25  0000 C CNN
F 1 "92k 1%" H 4350 2300 25  0000 C CNN
	1    4350 2250
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR8
U 1 1 50C9C067
P 4600 2700
F 0 "#PWR8" H 4600 2700 30  0001 C CNN
F 1 "GND" H 4600 2630 30  0001 C CNN
	1    4600 2700
	1    0    0    -1  
$EndComp
$Comp
L CAPAPOL C12
U 1 1 50C9C066
P 4600 2300
F 0 "C12" H 4650 2400 50  0000 L CNN
F 1 "47uF" H 4650 2200 50  0000 L CNN
	1    4600 2300
	1    0    0    -1  
$EndComp
$Comp
L L_MINI L1
U 1 1 50C9C043
P 4100 2050
F 0 "L1" H 4025 2000 30  0000 C CNN
F 1 "100uH" H 4100 2100 22  0000 C CNN
	1    4100 2050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR5
U 1 1 50C9C004
P 3850 2700
F 0 "#PWR5" H 3850 2700 30  0001 C CNN
F 1 "GND" H 3850 2630 30  0001 C CNN
	1    3850 2700
	1    0    0    -1  
$EndComp
$Comp
L D_SCHOTTKY D2
U 1 1 50C9BFE3
P 3850 2250
F 0 "D2" V 3760 2200 35  0000 C CNN
F 1 "PMEG6010" H 3800 2100 30  0000 C CNN
	1    3850 2250
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C11
U 1 1 50C9BFA7
P 3600 1950
F 0 "C11" V 3550 1990 30  0000 C CNN
F 1 "100nF" H 3650 1850 25  0000 C CNN
	1    3600 1950
	0    -1   -1   0   
$EndComp
Text Notes 2650 2700 0    60   ~ 0
MAX5035D
$Comp
L C_MINI C10
U 1 1 50C9BB98
P 2150 2350
F 0 "C10" V 2100 2390 30  0000 C CNN
F 1 "100nF" H 2200 2420 25  0000 C CNN
	1    2150 2350
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR4
U 1 1 50C9BB88
P 3600 2700
F 0 "#PWR4" H 3600 2700 30  0001 C CNN
F 1 "GND" H 3600 2630 30  0001 C CNN
	1    3600 2700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR3
U 1 1 50C9BB7C
P 2150 2700
F 0 "#PWR3" H 2150 2700 30  0001 C CNN
F 1 "GND" H 2150 2630 30  0001 C CNN
	1    2150 2700
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R20
U 1 1 50BE831C
P 15850 5050
F 0 "R20" H 15850 5000 25  0000 C CNN
F 1 "10K" H 15850 5100 25  0000 C CNN
	1    15850 5050
	0    -1   -1   0   
$EndComp
$Comp
L +3.3V #PWR37
U 1 1 50BE831B
P 15850 4850
F 0 "#PWR37" H 15850 4810 30  0001 C CNN
F 1 "+3.3V" H 15850 4960 30  0000 C CNN
	1    15850 4850
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR36
U 1 1 50BE82D1
P 15700 4850
F 0 "#PWR36" H 15700 4810 30  0001 C CNN
F 1 "+3.3V" H 15700 4960 30  0000 C CNN
	1    15700 4850
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R19
U 1 1 50BE82D0
P 15700 5050
F 0 "R19" H 15700 5000 25  0000 C CNN
F 1 "10K" H 15700 5100 25  0000 C CNN
	1    15700 5050
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R18
U 1 1 50BE82C6
P 15550 5050
F 0 "R18" H 15550 5000 25  0000 C CNN
F 1 "10K" H 15550 5100 25  0000 C CNN
	1    15550 5050
	0    -1   -1   0   
$EndComp
$Comp
L +3.3V #PWR35
U 1 1 50BE82C5
P 15550 4850
F 0 "#PWR35" H 15550 4810 30  0001 C CNN
F 1 "+3.3V" H 15550 4960 30  0000 C CNN
	1    15550 4850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR40
U 1 1 50BE8296
P 16350 5850
F 0 "#PWR40" H 16350 5850 30  0001 C CNN
F 1 "GND" H 16350 5780 30  0001 C CNN
	1    16350 5850
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R23
U 1 1 50BE8295
P 16350 5650
F 0 "R23" H 16400 5600 25  0000 C CNN
F 1 "10k" H 16350 5700 25  0000 C CNN
	1    16350 5650
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R22
U 1 1 50BE828D
P 16200 5650
F 0 "R22" H 16250 5600 25  0000 C CNN
F 1 "10k" H 16200 5700 25  0000 C CNN
	1    16200 5650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR39
U 1 1 50BE828C
P 16200 5850
F 0 "#PWR39" H 16200 5850 30  0001 C CNN
F 1 "GND" H 16200 5780 30  0001 C CNN
	1    16200 5850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR38
U 1 1 50BE8164
P 16050 5850
F 0 "#PWR38" H 16050 5850 30  0001 C CNN
F 1 "GND" H 16050 5780 30  0001 C CNN
	1    16050 5850
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R21
U 1 1 50BE8163
P 16050 5650
F 0 "R21" H 16100 5600 25  0000 C CNN
F 1 "10k" H 16050 5700 25  0000 C CNN
	1    16050 5650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR34
U 1 1 50BBEA1A
P 15550 2050
F 0 "#PWR34" H 15550 2050 30  0001 C CNN
F 1 "GND" H 15550 1980 30  0001 C CNN
	1    15550 2050
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C8
U 1 1 50BBEA19
P 15550 1850
F 0 "C8" V 15500 1890 30  0000 C CNN
F 1 "10nF" H 15600 1920 25  0000 C CNN
	1    15550 1850
	0    -1   -1   0   
$EndComp
$Comp
L C_MINI C7
U 1 1 50BBEA06
P 15400 1850
F 0 "C7" V 15350 1890 30  0000 C CNN
F 1 "10nF" H 15450 1920 25  0000 C CNN
	1    15400 1850
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR33
U 1 1 50BBEA05
P 15400 2050
F 0 "#PWR33" H 15400 2050 30  0001 C CNN
F 1 "GND" H 15400 1980 30  0001 C CNN
	1    15400 2050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR32
U 1 1 50BBE9ED
P 15250 2050
F 0 "#PWR32" H 15250 2050 30  0001 C CNN
F 1 "GND" H 15250 1980 30  0001 C CNN
	1    15250 2050
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C6
U 1 1 50BBE9EC
P 15250 1850
F 0 "C6" V 15200 1890 30  0000 C CNN
F 1 "10nF" H 15300 1920 25  0000 C CNN
	1    15250 1850
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR16
U 1 1 50A57363
P 8350 10300
F 0 "#PWR16" H 8350 10300 30  0001 C CNN
F 1 "GND" H 8350 10230 30  0001 C CNN
	1    8350 10300
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C5
U 1 1 50A57362
P 8350 10050
F 0 "C5" V 8300 10090 30  0000 C CNN
F 1 "100nF" V 8400 10120 25  0000 C CNN
	1    8350 10050
	0    -1   -1   0   
$EndComp
Text Notes 19800 6150 0    60   ~ 0
solder to LPC2103 board Vcc input
$Comp
L +5V #PWR43
U 1 1 508C1378
P 19650 6100
F 0 "#PWR43" H 19650 6190 20  0001 C CNN
F 1 "+5V" H 19650 6190 30  0000 C CNN
	1    19650 6100
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR17
U 1 1 5084124F
P 8900 12600
F 0 "#PWR17" H 8900 12690 20  0001 C CNN
F 1 "+5V" H 8900 12690 30  0000 C CNN
	1    8900 12600
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR23
U 1 1 508C12D8
P 14100 2000
F 0 "#PWR23" H 14100 2000 30  0001 C CNN
F 1 "GND" H 14100 1930 30  0001 C CNN
	1    14100 2000
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR24
U 1 1 508C1271
P 14100 3200
F 0 "#PWR24" H 14100 3200 30  0001 C CNN
F 1 "GND" H 14100 3130 30  0001 C CNN
	1    14100 3200
	1    0    0    -1  
$EndComp
Text Label 18850 4700 2    60   ~ 0
PWM for mosfet phase_a low (LPC2103 P0.12)
Text Label 22100 4700 2    60   ~ 0
PWM for mosfet phase_b low (LPC2103 P0.13)
NoConn ~ 19000 5200
Text Label 18850 5200 2    60   ~ 0
PWM for mosfet phase_c low (LPC2103 P0.19)
Text Label 15150 5500 2    60   ~ 0
IO for mosfet phase_a high (LPC2103 P0.7)
Text Label 18850 4500 2    60   ~ 0
IO for mosfet phase_b high (LPC2103 P0.8)
Text Label 21900 4500 2    60   ~ 0
IO for mosfet phase_c high (LPC2103 P0.9)
Text Notes 6750 12500 0    30   ~ 0
(CPU5)
Text Notes 6750 12400 0    30   ~ 0
(CPU3)
Text Notes 6750 12300 0    30   ~ 0
(CPU1)
Text Notes 6750 12200 0    30   ~ 0
(CPU4)
Text Notes 6750 12100 0    30   ~ 0
(CPU2)
Text Notes 6750 12000 0    30   ~ 0
(CPU44)
Text Notes 18950 2400 3    50   ~ 0
Note: 3V3 power\nsource is from\nZero LPC2103\nboard.
$Comp
L R_MINI R14
U 1 1 508468AB
P 14700 2850
F 0 "R14" H 14700 2800 25  0000 C CNN
F 1 "3K6" H 14700 2900 25  0000 C CNN
	1    14700 2850
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R13
U 1 1 508468A4
P 14300 4100
F 0 "R13" H 14300 4050 25  0000 C CNN
F 1 "3K6" H 14300 4150 25  0000 C CNN
	1    14300 4100
	-1   0    0    1   
$EndComp
Text Notes 15400 750  0    150  ~ 30
EBike Smart Controller main board
Text Notes 18100 3800 0    150  ~ 0
Zero LPC2103 board
Text Label 15350 5800 2    60   ~ 0
PWM for mosfet phase_a low (LPC2103 P0.12)
Text Label 15350 5600 2    60   ~ 0
PWM for mosfet phase_c low (LPC2103 P0.19)
Text Label 15150 5400 2    60   ~ 0
IO for mosfet phase_b high (LPC2103 P0.8)
Text Label 15150 5300 2    60   ~ 0
IO for mosfet phase_c high (LPC2103 P0.9)
$Comp
L +5V #PWR20
U 1 1 50846743
P 13400 5200
F 0 "#PWR20" H 13400 5290 20  0001 C CNN
F 1 "+5V" H 13400 5290 30  0000 C CNN
	1    13400 5200
	0    1    1    0   
$EndComp
$Comp
L GND #PWR19
U 1 1 50846742
P 13300 4950
F 0 "#PWR19" H 13300 4950 30  0001 C CNN
F 1 "GND" H 13300 4880 30  0001 C CNN
	1    13300 4950
	-1   0    0    1   
$EndComp
Text Label 21900 4400 2    60   ~ 0
IO for mosfet phase_a high (LPC2103 P0.7)
Text Label 15350 5700 2    60   ~ 0
PWM for mosfet phase_b low (LPC2103 P0.13)
Text Label 14650 5900 2    60   ~ 0
Current_signal (LPC2103 P0.23)
Text Label 14650 6000 2    60   ~ 0
Voltage_signal (LPC2103 P0.22)
$Comp
L R_MINI R17
U 1 1 5084183A
P 14950 1650
F 0 "R17" H 14950 1600 25  0000 C CNN
F 1 "3K6" H 14850 1600 25  0000 C CNN
	1    14950 1650
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R16
U 1 1 50841838
P 14950 1550
F 0 "R16" H 14950 1500 25  0000 C CNN
F 1 "3K6" H 14850 1500 25  0000 C CNN
	1    14950 1550
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R15
U 1 1 5084182F
P 14950 1450
F 0 "R15" H 14950 1400 25  0000 C CNN
F 1 "3K6" H 14850 1400 25  0000 C CNN
	1    14950 1450
	-1   0    0    1   
$EndComp
Text Label 7850 11100 0    60   ~ 0
Voltage_signal (LPC2103 P0.22)
$Comp
L R_MINI R11
U 1 1 508417B2
P 7600 11100
F 0 "R11" H 7600 11050 25  0000 C CNN
F 1 "2K2" H 7600 11150 25  0000 C CNN
	1    7600 11100
	-1   0    0    1   
$EndComp
$Comp
L C_MINI C2
U 1 1 50831587
P 7550 10000
F 0 "C2" V 7500 10040 30  0000 C CNN
F 1 "100nF" V 7600 10070 25  0000 C CNN
	1    7550 10000
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R12
U 1 1 50841760
P 8150 9950
F 0 "R12" H 8150 9900 25  0000 C CNN
F 1 "3K6" H 8150 10000 25  0000 C CNN
	1    8150 9950
	-1   0    0    1   
$EndComp
Text Label 7650 11800 0    60   ~ 0
Voltage_signal (LPC2103 P0.22)
$Comp
L CONN_10 P5
U 1 1 5084156B
P 9500 12250
F 0 "P5" V 9450 12250 60  0000 C CNN
F 1 "CONN_10" V 9550 12250 60  0000 C CNN
	1    9500 12250
	1    0    0    1   
$EndComp
Text Label 7650 11900 0    60   ~ 0
Current_signal (LPC2103 P0.23)
Text Label 6950 12100 0    60   ~ 0
PWM for mosfet phase_b low (LPC2103 P0.13)
Text Label 7150 12300 0    60   ~ 0
IO for mosfet phase_a high (LPC2103 P0.7)
$Comp
L GND #PWR18
U 1 1 50841255
P 9000 12850
F 0 "#PWR18" H 9000 12850 30  0001 C CNN
F 1 "GND" H 9000 12780 30  0001 C CNN
	1    9000 12850
	1    0    0    -1  
$EndComp
Text Label 7150 12500 0    60   ~ 0
IO for mosfet phase_c high (LPC2103 P0.9)
Text Label 7150 12400 0    60   ~ 0
IO for mosfet phase_b high (LPC2103 P0.8)
Text Label 6950 12200 0    60   ~ 0
PWM for mosfet phase_c low (LPC2103 P0.19)
Text Label 6950 12000 0    60   ~ 0
PWM for mosfet phase_a low (LPC2103 P0.12)
Text Label 8250 9950 0    60   ~ 0
Current_signal (LPC2103 P0.23)
$Comp
L +5V #PWR31
U 1 1 508410D2
P 14700 1050
F 0 "#PWR31" H 14700 1140 20  0001 C CNN
F 1 "+5V" H 14700 1140 30  0000 C CNN
	1    14700 1050
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR29
U 1 1 508410CE
P 14500 1050
F 0 "#PWR29" H 14500 1140 20  0001 C CNN
F 1 "+5V" H 14500 1140 30  0000 C CNN
	1    14500 1050
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR27
U 1 1 508410CC
P 14300 1050
F 0 "#PWR27" H 14300 1140 20  0001 C CNN
F 1 "+5V" H 14300 1140 30  0000 C CNN
	1    14300 1050
	1    0    0    -1  
$EndComp
NoConn ~ 19800 4200
NoConn ~ 19800 4300
NoConn ~ 19800 4800
NoConn ~ 19800 4900
NoConn ~ 19800 5100
NoConn ~ 19800 5200
NoConn ~ 19800 5500
NoConn ~ 19800 5600
NoConn ~ 19800 5700
NoConn ~ 19800 5800
NoConn ~ 19800 5900
NoConn ~ 19000 6000
NoConn ~ 19000 5900
NoConn ~ 19000 5800
NoConn ~ 19000 5700
NoConn ~ 19000 5600
NoConn ~ 19000 5500
NoConn ~ 19000 5300
NoConn ~ 19000 5200
NoConn ~ 19000 5100
NoConn ~ 19000 5000
NoConn ~ 19000 4900
NoConn ~ 19000 4800
NoConn ~ 19000 4600
Text Label 20250 4100 0    60   ~ 0
UART RX (LPC2103 P0.1)
Text Label 17700 4100 0    60   ~ 0
UART TX (LPC2103 P0.0)
Text Notes 15700 1350 0    60   ~ 0
Note: LPC2103 pins are 5V tolerant.
Text Label 17150 4200 0    60   ~ 0
Hall sensor phase_a (LPC2103 P0.2)
Text Label 17150 4300 0    60   ~ 0
Hall sensor phase_b (LPC2103 P0.4)
Text Label 17150 4400 0    60   ~ 0
Hall sensor phase_c (LPC2103 P0.6)
Text Label 19950 5300 0    60   ~ 0
Voltage_signal (LPC2103 P0.22)
Text Label 20050 4600 0    60   ~ 0
Brake_signal (LPC2103 P0.11)
Text Label 19950 5400 0    60   ~ 0
Throttle_signal (LPC2103 P0.24)
Text Label 17350 5400 0    60   ~ 0
Current_signal (LPC2103 P0.23)
$Comp
L +3.3V #PWR45
U 1 1 5083CE03
P 20000 5900
F 0 "#PWR45" H 20000 5860 30  0001 C CNN
F 1 "+3.3V" H 20000 6010 30  0000 C CNN
	1    20000 5900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR44
U 1 1 5083CDAD
P 20000 5150
F 0 "#PWR44" H 20000 5150 30  0001 C CNN
F 1 "GND" H 20000 5080 30  0001 C CNN
	1    20000 5150
	1    0    0    -1  
$EndComp
$Comp
L CONN_20X2 P3
U 1 1 5083CBC8
P 19400 5050
F 0 "P3" H 19400 6100 60  0000 C CNN
F 1 "Zero LPC2103 board" V 19400 5050 50  0000 C CNN
	1    19400 5050
	1    0    0    -1  
$EndComp
Text Label 18150 1550 0    60   ~ 0
UART TX (LPC2103 P0.0)
Text Label 18150 1450 0    60   ~ 0
UART RX (LPC2103 P0.1)
$Comp
L +3.3V #PWR41
U 1 1 5083C9AC
P 19300 2450
F 0 "#PWR41" H 19300 2410 30  0001 C CNN
F 1 "+3.3V" H 19300 2560 30  0000 C CNN
	1    19300 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR42
U 1 1 5083C9A1
P 19300 2800
F 0 "#PWR42" H 19300 2800 30  0001 C CNN
F 1 "GND" H 19300 2730 30  0001 C CNN
	1    19300 2800
	1    0    0    -1  
$EndComp
NoConn ~ 20700 2750
NoConn ~ 19500 1650
NoConn ~ 19500 1750
NoConn ~ 19500 1850
NoConn ~ 19500 1950
NoConn ~ 19500 2050
NoConn ~ 19500 2150
NoConn ~ 19500 2250
NoConn ~ 19500 2350
NoConn ~ 19500 2450
NoConn ~ 19500 2750
NoConn ~ 19500 2850
NoConn ~ 19500 2950
NoConn ~ 19500 3050
NoConn ~ 20700 3050
NoConn ~ 20700 2950
NoConn ~ 20700 2850
NoConn ~ 20700 2650
NoConn ~ 20700 2550
NoConn ~ 20700 2450
NoConn ~ 20700 2350
NoConn ~ 20700 2250
NoConn ~ 20700 2150
NoConn ~ 20700 2050
NoConn ~ 20700 1950
NoConn ~ 20700 1850
NoConn ~ 20700 1750
NoConn ~ 20700 1650
NoConn ~ 20700 1550
NoConn ~ 20700 1450
$Comp
L BLUETOOTH_MODULE P4
U 1 1 5083C8F8
P 20100 2250
F 0 "P4" H 20100 3150 70  0000 C CNN
F 1 "BLUETOOTH_MODULE" V 20100 2250 70  0000 C CNN
	1    20100 2250
	1    0    0    -1  
$EndComp
Text Label 15650 1650 0    60   ~ 0
Hall sensor phase_a (LPC2103 P0.2)
Text Label 15650 1550 0    60   ~ 0
Hall sensor phase_b (LPC2103 P0.4)
Text Label 15650 1450 0    60   ~ 0
Hall sensor phase_c (LPC2103 P0.6)
$Comp
L R_MINI R10
U 1 1 5083266E
P 14700 1250
F 0 "R10" H 14700 1200 25  0000 C CNN
F 1 "2K2" H 14700 1300 25  0000 C CNN
	1    14700 1250
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R9
U 1 1 50832667
P 14500 1250
F 0 "R9" H 14500 1200 25  0000 C CNN
F 1 "2K2" H 14500 1300 25  0000 C CNN
	1    14500 1250
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R8
U 1 1 50832663
P 14300 1250
F 0 "R8" H 14300 1200 25  0000 C CNN
F 1 "2K2" H 14300 1300 25  0000 C CNN
	1    14300 1250
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR21
U 1 1 50832572
P 14050 1750
F 0 "#PWR21" H 14050 1840 20  0001 C CNN
F 1 "+5V" V 14000 1850 30  0000 C CNN
	1    14050 1750
	0    1    1    0   
$EndComp
$Comp
L CONN_5 P2
U 1 1 50832540
P 13600 1650
F 0 "P2" V 13550 1650 50  0000 C CNN
F 1 "Hall sensors" V 13650 1650 50  0000 C CNN
	1    13600 1650
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR11
U 1 1 508324F5
P 7400 11450
F 0 "#PWR11" H 7400 11450 30  0001 C CNN
F 1 "GND" H 7400 11380 30  0001 C CNN
	1    7400 11450
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C4
U 1 1 508324F4
P 7400 11250
F 0 "C4" V 7350 11290 30  0000 C CNN
F 1 "10nF" H 7450 11320 25  0000 C CNN
	1    7400 11250
	0    -1   -1   0   
$EndComp
Text Label 7350 10750 0    60   ~ 0
24V battery (up to 33V)
$Comp
L R_MINI R6
U 1 1 5083228E
P 7150 10950
F 0 "R6" H 7150 10900 25  0000 C CNN
F 1 "100K 1%" H 7150 11000 25  0000 C CNN
	1    7150 10950
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R7
U 1 1 5083228D
P 7150 11250
F 0 "R7" H 7200 11200 25  0000 C CNN
F 1 "10K 1%" H 7150 11300 25  0000 C CNN
	1    7150 11250
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR10
U 1 1 5083228C
P 7150 11450
F 0 "#PWR10" H 7150 11450 30  0001 C CNN
F 1 "GND" H 7150 11380 30  0001 C CNN
	1    7150 11450
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR25
U 1 1 5083200B
P 14100 3750
F 0 "#PWR25" H 14100 3710 30  0001 C CNN
F 1 "+3.3V" H 14100 3860 30  0000 C CNN
	1    14100 3750
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P1
U 1 1 50831FC0
P 13600 4200
F 0 "P1" V 13550 4200 40  0000 C CNN
F 1 "Brake" V 13650 4200 40  0000 C CNN
	1    13600 4200
	-1   0    0    1   
$EndComp
Text Label 14500 4100 0    60   ~ 0
Brake_signal (LPC2103 P0.11)
$Comp
L R_MINI R1
U 1 1 50831F42
P 14100 3950
F 0 "R1" H 14100 3900 25  0000 C CNN
F 1 "10K" H 14100 4000 25  0000 C CNN
	1    14100 3950
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR26
U 1 1 50831F3E
P 14100 4450
F 0 "#PWR26" H 14100 4450 30  0001 C CNN
F 1 "GND" H 14100 4380 30  0001 C CNN
	1    14100 4450
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C1
U 1 1 50831F3D
P 14100 4250
F 0 "C1" V 14050 4290 30  0000 C CNN
F 1 "10nF" H 14150 4320 25  0000 C CNN
	1    14100 4250
	0    -1   -1   0   
$EndComp
Text Notes 6800 10450 0    60   ~ 0
Battery GND
$Comp
L C_MINI C3
U 1 1 50831E6F
P 14500 3000
F 0 "C3" V 14450 3040 30  0000 C CNN
F 1 "10nF" H 14550 3070 25  0000 C CNN
	1    14500 3000
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR30
U 1 1 50831E6E
P 14500 3200
F 0 "#PWR30" H 14500 3200 30  0001 C CNN
F 1 "GND" H 14500 3130 30  0001 C CNN
	1    14500 3200
	1    0    0    -1  
$EndComp
$Comp
L CONN_3 K1
U 1 1 50831D6C
P 13600 2650
F 0 "K1" V 13550 2650 50  0000 C CNN
F 1 "Throttle" V 13650 2650 40  0000 C CNN
	1    13600 2650
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR22
U 1 1 50831D0B
P 14050 2650
F 0 "#PWR22" H 14050 2740 20  0001 C CNN
F 1 "+5V" V 14000 2750 30  0000 C CNN
	1    14050 2650
	0    1    1    0   
$EndComp
$Comp
L R_MINI R2
U 1 1 50831D06
P 14300 2700
F 0 "R2" H 14300 2650 25  0000 C CNN
F 1 "3K6 1%" H 14300 2750 25  0000 C CNN
	1    14300 2700
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R3
U 1 1 50831D05
P 14300 3000
F 0 "R3" H 14350 2950 25  0000 C CNN
F 1 "6K8 1%" H 14300 3050 25  0000 C CNN
	1    14300 3000
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR28
U 1 1 50831D04
P 14300 3200
F 0 "#PWR28" H 14300 3200 30  0001 C CNN
F 1 "GND" H 14300 3130 30  0001 C CNN
	1    14300 3200
	1    0    0    -1  
$EndComp
Text Label 14850 2850 0    60   ~ 0
Throttle_signal (LPC2103 P0.24)
$Comp
L GND #PWR15
U 1 1 50831B19
P 7950 10300
F 0 "#PWR15" H 7950 10300 30  0001 C CNN
F 1 "GND" H 7950 10230 30  0001 C CNN
	1    7950 10300
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R5
U 1 1 50831B08
P 7950 10100
F 0 "R5" H 8000 10050 25  0000 C CNN
F 1 "6K8 1%" H 7950 10150 25  0000 C CNN
	1    7950 10100
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R4
U 1 1 50831AF9
P 7950 9800
F 0 "R4" H 7950 9750 25  0000 C CNN
F 1 "3K6 1%" H 7950 9850 25  0000 C CNN
	1    7950 9800
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR13
U 1 1 50831623
P 7550 10300
F 0 "#PWR13" H 7550 10300 30  0001 C CNN
F 1 "GND" H 7550 10230 30  0001 C CNN
	1    7550 10300
	1    0    0    -1  
$EndComp
Text Label 7200 9200 0    60   ~ 0
Motor GND
$Comp
L GND #PWR14
U 1 1 50831321
P 7750 10300
F 0 "#PWR14" H 7750 10300 30  0001 C CNN
F 1 "GND" H 7750 10230 30  0001 C CNN
	1    7750 10300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR9
U 1 1 50831300
P 7150 10300
F 0 "#PWR9" H 7150 10300 30  0001 C CNN
F 1 "GND" H 7150 10230 30  0001 C CNN
	1    7150 10300
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR12
U 1 1 508312E5
P 7550 9500
F 0 "#PWR12" H 7550 9590 20  0001 C CNN
F 1 "+5V" H 7550 9590 30  0000 C CNN
	1    7550 9500
	1    0    0    -1  
$EndComp
$Comp
L ACS754_ACS755_ACS756_HALLCURRENTSENSOR IC1
U 1 1 50830D7C
P 7200 9750
F 0 "IC1" H 7200 9950 60  0000 C CNN
F 1 "ACS756SCA-100B" H 7250 10100 60  0000 C CNN
	1    7200 9750
	0    -1   -1   0   
$EndComp
$Comp
L D_SCHOTTKY D1
U 1 1 50C9176C
P 1600 1850
F 0 "D1" V 1510 1800 35  0000 C CNN
F 1 "PMEG6010" H 1700 1950 30  0000 C CNN
	1    1600 1850
	1    0    0    -1  
$EndComp
$Comp
L CAPAPOL C9
U 1 1 50C91A36
P 1850 2100
F 0 "C9" H 1900 2200 50  0000 L CNN
F 1 "47uF" H 1900 2000 50  0000 L CNN
	1    1850 2100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR2
U 1 1 50C91A58
P 1850 2400
F 0 "#PWR2" H 1850 2400 30  0001 C CNN
F 1 "GND" H 1850 2330 30  0001 C CNN
	1    1850 2400
	1    0    0    -1  
$EndComp
$Comp
L MAX5035 U1
U 1 1 50C91F02
P 2900 2150
F 0 "U1" H 2850 2650 60  0000 C CNN
F 1 "MAX5035" H 2900 1750 60  0000 C CNN
	1    2900 2150
	1    0    0    -1  
$EndComp
$EndSCHEMATC
