EESchema Schematic File Version 2  date Qui 15 Nov 2012 23:12:05 WET
LIBS:Allegro_ACS754_ACS755_ACS756_HallCurrentSensor_RevA
LIBS:ac-dc
LIBS:conn
LIBS:contrib
LIBS:dc-dc
LIBS:device
LIBS:elec-unifil
LIBS:gennum
LIBS:hc11
LIBS:intel
LIBS:interface
LIBS:linear
LIBS:memory
LIBS:microcontrollers
LIBS:nxp_armmcu
LIBS:power
LIBS:powerint
LIBS:pspice
LIBS:regul
LIBS:sensors
LIBS:special
LIBS:transistors
LIBS:ttl_ieee
LIBS:opendous
LIBS:R2C2_bluetooth
LIBS:EBike_Smart_Controller-cache
EELAYER 25  0
EELAYER END
$Descr A3 16535 11700
encoding utf-8
Sheet 1 1
Title "EBike Smart Controller"
Date "15 nov 2012"
Rev "V0.1"
Comp "Author: Jorge Pinto aka Casainho (casainho@gmail.com)"
Comment1 "License: GPL V3"
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Connection ~ 3450 4050
$Comp
L GND #PWR8
U 1 1 50A57363
P 3450 4400
F 0 "#PWR8" H 3450 4400 30  0001 C CNN
F 1 "GND" H 3450 4330 30  0001 C CNN
	1    3450 4400
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C5
U 1 1 50A57362
P 3450 4150
F 0 "C5" V 3400 4190 30  0000 C CNN
F 1 "100nF" V 3500 4220 25  0000 C CNN
	1    3450 4150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3450 4400 3450 4250
Text Notes 12150 7550 0    60   ~ 0
solder to LPC2103 board Vcc input
Wire Wire Line
	11750 7450 11750 7500
Wire Notes Line
	9350 5250 14500 5250
Wire Wire Line
	11350 6100 9000 6100
Wire Wire Line
	11350 6600 9000 6600
Wire Wire Line
	12150 5800 14250 5800
Wire Wire Line
	14250 5900 12150 5900
Wire Wire Line
	1850 6300 4250 6300
Wire Wire Line
	1850 6500 4250 6500
Wire Notes Line
	1800 2950 1650 2950
Wire Wire Line
	1850 6100 4250 6100
Wire Wire Line
	6300 5500 6450 5500
Wire Wire Line
	6450 5500 6550 5500
Wire Wire Line
	6950 4250 6850 4250
Wire Wire Line
	6850 4250 6650 4250
Wire Notes Line
	5600 2200 5600 7850
Wire Notes Line
	14750 2200 14750 7850
Wire Notes Line
	14750 2200 5600 2200
Wire Wire Line
	8600 7400 6300 7400
Wire Wire Line
	8600 7300 6300 7300
Wire Wire Line
	6450 6350 6450 6500
Wire Wire Line
	6450 6500 6300 6500
Wire Wire Line
	8600 7200 6300 7200
Wire Wire Line
	8600 7000 6300 7000
Wire Wire Line
	8600 6800 6300 6800
Wire Wire Line
	8600 6700 6300 6700
Wire Wire Line
	6550 6600 6300 6600
Wire Wire Line
	8600 6900 6300 6900
Wire Wire Line
	8600 7100 6300 7100
Wire Wire Line
	7500 3050 9300 3050
Wire Wire Line
	7500 2850 9300 2850
Wire Wire Line
	6350 2950 6900 2950
Wire Wire Line
	6900 2950 7300 2950
Wire Wire Line
	2800 5200 4400 5200
Wire Wire Line
	3150 4050 3050 4050
Wire Notes Line
	1650 5800 1650 7150
Wire Notes Line
	4900 2950 4900 7150
Wire Notes Line
	4900 2950 1750 2950
Wire Wire Line
	2600 5200 2500 5200
Wire Wire Line
	2500 5200 2250 5200
Wire Wire Line
	10050 5500 11350 5500
Wire Wire Line
	9500 5600 11350 5600
Wire Wire Line
	9500 5800 11350 5800
Wire Wire Line
	12350 7300 12350 7400
Wire Wire Line
	12150 6400 12350 6400
Wire Wire Line
	10500 2950 11850 2950
Wire Wire Line
	11650 3850 11650 3950
Wire Wire Line
	11850 4050 11650 4050
Connection ~ 6900 2950
Wire Wire Line
	6900 2750 6900 2950
Wire Wire Line
	7150 2450 7150 2550
Wire Wire Line
	6900 2450 6900 2550
Wire Wire Line
	6650 2450 6650 2550
Wire Wire Line
	6400 3150 6350 3150
Connection ~ 2500 5200
Wire Wire Line
	2500 5250 2500 5200
Wire Wire Line
	2250 4950 2250 4850
Wire Wire Line
	6450 5550 6450 5500
Wire Wire Line
	6450 5500 6450 5450
Connection ~ 6850 4250
Wire Wire Line
	6850 4300 6850 4250
Connection ~ 6650 4250
Wire Wire Line
	6650 4300 6650 4250
Wire Wire Line
	6650 4250 6650 4200
Wire Wire Line
	6400 4050 6300 4050
Wire Wire Line
	6300 3950 6650 3950
Wire Wire Line
	6650 3950 6650 4000
Wire Wire Line
	6650 4500 6650 4600
Wire Wire Line
	3050 4300 3050 4400
Wire Wire Line
	3050 3800 3050 3750
Wire Wire Line
	3050 3750 2500 3750
Connection ~ 2650 3950
Wire Wire Line
	2500 3950 2650 3950
Wire Wire Line
	2250 3450 2250 3300
Wire Wire Line
	2250 4250 2250 4400
Wire Wire Line
	2500 3850 2850 3850
Wire Wire Line
	2850 3850 2850 4400
Wire Wire Line
	2250 3300 2800 3300
Wire Wire Line
	2650 3600 2650 3950
Wire Wire Line
	2650 3950 2650 4000
Wire Wire Line
	2650 4400 2650 4200
Wire Wire Line
	3050 4100 3050 4050
Wire Wire Line
	3050 4050 3050 4000
Connection ~ 3050 4050
Wire Wire Line
	6850 4600 6850 4500
Wire Wire Line
	6450 5850 6450 5800
Wire Wire Line
	6450 5800 6450 5750
Connection ~ 6450 5500
Wire Wire Line
	6450 5150 6450 5250
Wire Wire Line
	6300 5700 6350 5700
Wire Wire Line
	6350 5700 6350 5800
Wire Wire Line
	6350 5800 6450 5800
Connection ~ 6450 5800
Connection ~ 2250 5200
Wire Wire Line
	2250 5150 2250 5200
Wire Wire Line
	2250 5200 2250 5250
Wire Wire Line
	2250 5450 2250 5550
Wire Wire Line
	2500 5550 2500 5450
Wire Wire Line
	6650 2750 6650 2850
Connection ~ 6650 2850
Wire Wire Line
	7150 2750 7150 3050
Connection ~ 7150 3050
Wire Wire Line
	11650 4050 11650 4200
Wire Wire Line
	11650 3950 11850 3950
Wire Wire Line
	10500 2850 11850 2850
Wire Wire Line
	12350 6400 12350 6550
Wire Wire Line
	12350 7400 12150 7400
Wire Wire Line
	9700 6800 11350 6800
Wire Wire Line
	12150 6800 13800 6800
Wire Wire Line
	12150 6000 13800 6000
Wire Wire Line
	12150 6700 13800 6700
Wire Wire Line
	9500 5700 11350 5700
Wire Wire Line
	13750 5500 12150 5500
Wire Wire Line
	2250 4850 3550 4850
Wire Notes Line
	1650 2950 1650 5950
Wire Wire Line
	4250 6700 4000 6700
Wire Wire Line
	4250 6800 4100 6800
Wire Wire Line
	4100 6800 4100 6950
Wire Wire Line
	2600 6000 4250 6000
Wire Wire Line
	2600 5900 4250 5900
Wire Wire Line
	3350 4050 4800 4050
Wire Wire Line
	6350 2850 6650 2850
Wire Wire Line
	6650 2850 7300 2850
Wire Wire Line
	6350 3050 7150 3050
Wire Wire Line
	7150 3050 7300 3050
Wire Wire Line
	9300 2950 7500 2950
Wire Notes Line
	14500 5250 14500 7600
Wire Notes Line
	8900 5250 8900 7600
Wire Wire Line
	7150 4250 8700 4250
Wire Wire Line
	6750 5500 8250 5500
Wire Notes Line
	4900 7150 1650 7150
Wire Wire Line
	1850 6400 4250 6400
Wire Wire Line
	1850 6200 4250 6200
Wire Wire Line
	1850 6600 4250 6600
Wire Wire Line
	9200 5900 11350 5900
Wire Wire Line
	12150 6100 14450 6100
Wire Notes Line
	8900 5250 9400 5250
Wire Notes Line
	14750 7850 5600 7850
Wire Wire Line
	6300 4150 6450 4150
Wire Wire Line
	6450 4150 6450 4600
Wire Wire Line
	6450 3400 6450 3250
Wire Wire Line
	6450 3250 6350 3250
Wire Wire Line
	11750 7500 12000 7500
Wire Notes Line
	8900 7600 14500 7600
$Comp
L +5V #PWR26
U 1 1 508C1378
P 12000 7500
F 0 "#PWR26" H 12000 7590 20  0001 C CNN
F 1 "+5V" H 12000 7590 30  0000 C CNN
	1    12000 7500
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR9
U 1 1 5084124F
P 4000 6700
F 0 "#PWR9" H 4000 6790 20  0001 C CNN
F 1 "+5V" H 4000 6790 30  0000 C CNN
	1    4000 6700
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR13
U 1 1 508C12D8
P 6450 3400
F 0 "#PWR13" H 6450 3400 30  0001 C CNN
F 1 "GND" H 6450 3330 30  0001 C CNN
	1    6450 3400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR14
U 1 1 508C1271
P 6450 4600
F 0 "#PWR14" H 6450 4600 30  0001 C CNN
F 1 "GND" H 6450 4530 30  0001 C CNN
	1    6450 4600
	1    0    0    -1  
$EndComp
Text Label 11200 6100 2    60   ~ 0
PWM for mosfet phase_a low (LPC2103 P0.12)
Text Label 14450 6100 2    60   ~ 0
PWM for mosfet phase_b low (LPC2103 P0.13)
NoConn ~ 11350 6600
Text Label 11200 6600 2    60   ~ 0
PWM for mosfet phase_c low (LPC2103 P0.19)
Text Label 8300 6900 2    60   ~ 0
IO for mosfet phase_a high (LPC2103 P0.7)
Text Label 11200 5900 2    60   ~ 0
IO for mosfet phase_b high (LPC2103 P0.8)
Text Label 14250 5900 2    60   ~ 0
IO for mosfet phase_c high (LPC2103 P0.9)
Text Notes 3800 6800 2    50   ~ 0
Note: 5V power source is from KU63 controller.
Text Notes 1850 6600 0    30   ~ 0
(CPU5)
Text Notes 1850 6500 0    30   ~ 0
(CPU3)
Text Notes 1850 6400 0    30   ~ 0
(CPU1)
Text Notes 1850 6300 0    30   ~ 0
(CPU4)
Text Notes 1850 6200 0    30   ~ 0
(CPU2)
Text Notes 1850 6100 0    30   ~ 0
(CPU44)
Text Notes 4000 3100 2    50   ~ 10
Note: please refer to KU63 schematic.
Text Notes 4700 3450 2    50   ~ 0
Note: exchange R46 (shunt resistor) by this current sensor IC.
Text Notes 3850 7000 0    30   ~ 0
(CPU32)
Text Notes 3950 6750 0    30   ~ 0
(CPU33)
Text Notes 2650 5100 0    30   ~ 0
(R56)
Text Notes 2000 5100 0    30   ~ 0
(R50)
Text Notes 2000 5400 0    30   ~ 0
(R55)
Text Notes 2600 5400 0    30   ~ 0
(C28)
Text Notes 11300 3800 3    50   ~ 0
Note: 3V3 power\nsource is from\nZero LPC2103\nboard.
$Comp
L R_MINI R14
U 1 1 508468AB
P 7050 4250
F 0 "R14" H 7050 4200 25  0000 C CNN
F 1 "3K6" H 7050 4300 25  0000 C CNN
	1    7050 4250
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R13
U 1 1 508468A4
P 6650 5500
F 0 "R13" H 6650 5450 25  0000 C CNN
F 1 "3K6" H 6650 5550 25  0000 C CNN
	1    6650 5500
	-1   0    0    1   
$EndComp
Text Notes 7900 2150 0    150  ~ 30
EBike Smart Controller main board
Text Notes 10450 5200 0    150  ~ 0
Zero LPC2103 board
Text Label 8500 7200 2    60   ~ 0
PWM for mosfet phase_a low (LPC2103 P0.12)
Text Label 8500 7000 2    60   ~ 0
PWM for mosfet phase_c low (LPC2103 P0.19)
Text Label 8300 6800 2    60   ~ 0
IO for mosfet phase_b high (LPC2103 P0.8)
Text Label 8300 6700 2    60   ~ 0
IO for mosfet phase_c high (LPC2103 P0.9)
$Comp
L +5V #PWR18
U 1 1 50846743
P 6550 6600
F 0 "#PWR18" H 6550 6690 20  0001 C CNN
F 1 "+5V" H 6550 6690 30  0000 C CNN
	1    6550 6600
	0    1    1    0   
$EndComp
$Comp
L GND #PWR17
U 1 1 50846742
P 6450 6350
F 0 "#PWR17" H 6450 6350 30  0001 C CNN
F 1 "GND" H 6450 6280 30  0001 C CNN
	1    6450 6350
	-1   0    0    1   
$EndComp
Text Label 14250 5800 2    60   ~ 0
IO for mosfet phase_a high (LPC2103 P0.7)
Text Label 8500 7100 2    60   ~ 0
PWM for mosfet phase_b low (LPC2103 P0.13)
Text Label 7800 7300 2    60   ~ 0
Current_signal (LPC2103 P0.23)
Text Notes 8650 6500 2    50   ~ 0
Note: 5V power source is from KU63 controller.
$Comp
L CONN_10 P6
U 1 1 50846741
P 5950 6950
F 0 "P6" V 5900 6950 60  0000 C CNN
F 1 "CONN_10" V 6000 6950 60  0000 C CNN
	1    5950 6950
	-1   0    0    -1  
$EndComp
Text Label 7800 7400 2    60   ~ 0
Voltage_signal (LPC2103 P0.22)
$Comp
L R_MINI R17
U 1 1 5084183A
P 7400 3050
F 0 "R17" H 7400 3000 25  0000 C CNN
F 1 "3K6" H 7400 3100 25  0000 C CNN
	1    7400 3050
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R16
U 1 1 50841838
P 7400 2950
F 0 "R16" H 7400 2900 25  0000 C CNN
F 1 "3K6" H 7400 3000 25  0000 C CNN
	1    7400 2950
	-1   0    0    1   
$EndComp
$Comp
L R_MINI R15
U 1 1 5084182F
P 7400 2850
F 0 "R15" H 7400 2800 25  0000 C CNN
F 1 "3K6" H 7400 2900 25  0000 C CNN
	1    7400 2850
	-1   0    0    1   
$EndComp
Text Label 2950 5200 0    60   ~ 0
Voltage_signal (LPC2103 P0.22)
$Comp
L R_MINI R11
U 1 1 508417B2
P 2700 5200
F 0 "R11" H 2700 5150 25  0000 C CNN
F 1 "2K2" H 2700 5250 25  0000 C CNN
	1    2700 5200
	-1   0    0    1   
$EndComp
$Comp
L C_MINI C2
U 1 1 50831587
P 2650 4100
F 0 "C2" V 2600 4140 30  0000 C CNN
F 1 "100nF" V 2700 4170 25  0000 C CNN
	1    2650 4100
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R12
U 1 1 50841760
P 3250 4050
F 0 "R12" H 3250 4000 25  0000 C CNN
F 1 "3K6" H 3250 4100 25  0000 C CNN
	1    3250 4050
	-1   0    0    1   
$EndComp
Text Label 2750 5900 0    60   ~ 0
Voltage_signal (LPC2103 P0.22)
$Comp
L CONN_10 P5
U 1 1 5084156B
P 4600 6350
F 0 "P5" V 4550 6350 60  0000 C CNN
F 1 "CONN_10" V 4650 6350 60  0000 C CNN
	1    4600 6350
	1    0    0    1   
$EndComp
Text Label 2750 6000 0    60   ~ 0
Current_signal (LPC2103 P0.23)
Text Label 2050 6200 0    60   ~ 0
PWM for mosfet phase_b low (LPC2103 P0.13)
Text Label 2250 6400 0    60   ~ 0
IO for mosfet phase_a high (LPC2103 P0.7)
$Comp
L GND #PWR10
U 1 1 50841255
P 4100 6950
F 0 "#PWR10" H 4100 6950 30  0001 C CNN
F 1 "GND" H 4100 6880 30  0001 C CNN
	1    4100 6950
	1    0    0    -1  
$EndComp
Text Label 2250 6600 0    60   ~ 0
IO for mosfet phase_c high (LPC2103 P0.9)
Text Label 2250 6500 0    60   ~ 0
IO for mosfet phase_b high (LPC2103 P0.8)
Text Label 2050 6300 0    60   ~ 0
PWM for mosfet phase_c low (LPC2103 P0.19)
Text Label 2050 6100 0    60   ~ 0
PWM for mosfet phase_a low (LPC2103 P0.12)
Text Label 3350 4050 0    60   ~ 0
Current_signal (LPC2103 P0.23)
Text Notes 2450 2900 0    150  ~ 30
KU63 controller
$Comp
L +5V #PWR23
U 1 1 508410D2
P 7150 2450
F 0 "#PWR23" H 7150 2540 20  0001 C CNN
F 1 "+5V" H 7150 2540 30  0000 C CNN
	1    7150 2450
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR22
U 1 1 508410CE
P 6900 2450
F 0 "#PWR22" H 6900 2540 20  0001 C CNN
F 1 "+5V" H 6900 2540 30  0000 C CNN
	1    6900 2450
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR19
U 1 1 508410CC
P 6650 2450
F 0 "#PWR19" H 6650 2540 20  0001 C CNN
F 1 "+5V" H 6650 2540 30  0000 C CNN
	1    6650 2450
	1    0    0    -1  
$EndComp
NoConn ~ 12150 5600
NoConn ~ 12150 5700
NoConn ~ 12150 6200
NoConn ~ 12150 6300
NoConn ~ 12150 6500
NoConn ~ 12150 6600
NoConn ~ 12150 6900
NoConn ~ 12150 7000
NoConn ~ 12150 7100
NoConn ~ 12150 7200
NoConn ~ 12150 7300
NoConn ~ 11350 7400
NoConn ~ 11350 7300
NoConn ~ 11350 7200
NoConn ~ 11350 7100
NoConn ~ 11350 7000
NoConn ~ 11350 6900
NoConn ~ 11350 6700
NoConn ~ 11350 6600
NoConn ~ 11350 6500
NoConn ~ 11350 6400
NoConn ~ 11350 6300
NoConn ~ 11350 6200
NoConn ~ 11350 6000
Text Label 12600 5500 0    60   ~ 0
UART RX (LPC2103 P0.1)
Text Label 10050 5500 0    60   ~ 0
UART TX (LPC2103 P0.0)
Text Notes 7650 2750 0    60   ~ 0
Note: LPC2103 pins are 5V tolerant.
Text Label 9500 5600 0    60   ~ 0
Hall sensor phase_a (LPC2103 P0.2)
Text Label 9500 5700 0    60   ~ 0
Hall sensor phase_b (LPC2103 P0.4)
Text Label 9500 5800 0    60   ~ 0
Hall sensor phase_c (LPC2103 P0.6)
Text Label 12300 6700 0    60   ~ 0
Voltage_signal (LPC2103 P0.22)
Text Label 12400 6000 0    60   ~ 0
Brake_signal (LPC2103 P0.11)
Text Label 12300 6800 0    60   ~ 0
Throttle_signal (LPC2103 P0.24)
Text Label 9700 6800 0    60   ~ 0
Current_signal (LPC2103 P0.23)
$Comp
L +3.3V #PWR28
U 1 1 5083CE03
P 12350 7300
F 0 "#PWR28" H 12350 7260 30  0001 C CNN
F 1 "+3.3V" H 12350 7410 30  0000 C CNN
	1    12350 7300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR27
U 1 1 5083CDAD
P 12350 6550
F 0 "#PWR27" H 12350 6550 30  0001 C CNN
F 1 "GND" H 12350 6480 30  0001 C CNN
	1    12350 6550
	1    0    0    -1  
$EndComp
$Comp
L CONN_20X2 P3
U 1 1 5083CBC8
P 11750 6450
F 0 "P3" H 11750 7500 60  0000 C CNN
F 1 "Zero LPC2103 board" V 11750 6450 50  0000 C CNN
	1    11750 6450
	1    0    0    -1  
$EndComp
Text Label 10500 2950 0    60   ~ 0
UART TX (LPC2103 P0.0)
Text Label 10500 2850 0    60   ~ 0
UART RX (LPC2103 P0.1)
$Comp
L +3.3V #PWR24
U 1 1 5083C9AC
P 11650 3850
F 0 "#PWR24" H 11650 3810 30  0001 C CNN
F 1 "+3.3V" H 11650 3960 30  0000 C CNN
	1    11650 3850
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR25
U 1 1 5083C9A1
P 11650 4200
F 0 "#PWR25" H 11650 4200 30  0001 C CNN
F 1 "GND" H 11650 4130 30  0001 C CNN
	1    11650 4200
	1    0    0    -1  
$EndComp
NoConn ~ 13050 4150
NoConn ~ 11850 3050
NoConn ~ 11850 3150
NoConn ~ 11850 3250
NoConn ~ 11850 3350
NoConn ~ 11850 3450
NoConn ~ 11850 3550
NoConn ~ 11850 3650
NoConn ~ 11850 3750
NoConn ~ 11850 3850
NoConn ~ 11850 4150
NoConn ~ 11850 4250
NoConn ~ 11850 4350
NoConn ~ 11850 4450
NoConn ~ 13050 4450
NoConn ~ 13050 4350
NoConn ~ 13050 4250
NoConn ~ 13050 4050
NoConn ~ 13050 3950
NoConn ~ 13050 3850
NoConn ~ 13050 3750
NoConn ~ 13050 3650
NoConn ~ 13050 3550
NoConn ~ 13050 3450
NoConn ~ 13050 3350
NoConn ~ 13050 3250
NoConn ~ 13050 3150
NoConn ~ 13050 3050
NoConn ~ 13050 2950
NoConn ~ 13050 2850
$Comp
L BLUETOOTH_MODULE P4
U 1 1 5083C8F8
P 12450 3650
F 0 "P4" H 12450 4550 70  0000 C CNN
F 1 "BLUETOOTH_MODULE" V 12450 3650 70  0000 C CNN
	1    12450 3650
	1    0    0    -1  
$EndComp
Text Label 7600 3050 0    60   ~ 0
Hall sensor phase_a (LPC2103 P0.2)
Text Label 7600 2950 0    60   ~ 0
Hall sensor phase_b (LPC2103 P0.4)
Text Label 7600 2850 0    60   ~ 0
Hall sensor phase_c (LPC2103 P0.6)
$Comp
L R_MINI R10
U 1 1 5083266E
P 7150 2650
F 0 "R10" H 7150 2600 25  0000 C CNN
F 1 "2K2" H 7150 2700 25  0000 C CNN
	1    7150 2650
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R9
U 1 1 50832667
P 6900 2650
F 0 "R9" H 6900 2600 25  0000 C CNN
F 1 "2K2" H 6900 2700 25  0000 C CNN
	1    6900 2650
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R8
U 1 1 50832663
P 6650 2650
F 0 "R8" H 6650 2600 25  0000 C CNN
F 1 "2K2" H 6650 2700 25  0000 C CNN
	1    6650 2650
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR11
U 1 1 50832572
P 6400 3150
F 0 "#PWR11" H 6400 3240 20  0001 C CNN
F 1 "+5V" H 6400 3240 30  0000 C CNN
	1    6400 3150
	0    1    1    0   
$EndComp
$Comp
L CONN_5 P2
U 1 1 50832540
P 5950 3050
F 0 "P2" V 5900 3050 50  0000 C CNN
F 1 "Hall sensors" V 6000 3050 50  0000 C CNN
	1    5950 3050
	-1   0    0    1   
$EndComp
$Comp
L GND #PWR3
U 1 1 508324F5
P 2500 5550
F 0 "#PWR3" H 2500 5550 30  0001 C CNN
F 1 "GND" H 2500 5480 30  0001 C CNN
	1    2500 5550
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C4
U 1 1 508324F4
P 2500 5350
F 0 "C4" V 2450 5390 30  0000 C CNN
F 1 "10nF" H 2550 5420 25  0000 C CNN
	1    2500 5350
	0    -1   -1   0   
$EndComp
Text Label 2450 4850 0    60   ~ 0
24V battery (up to 33V)
$Comp
L R_MINI R6
U 1 1 5083228E
P 2250 5050
F 0 "R6" H 2250 5000 25  0000 C CNN
F 1 "100K 1%" H 2250 5100 25  0000 C CNN
	1    2250 5050
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R7
U 1 1 5083228D
P 2250 5350
F 0 "R7" H 2300 5300 25  0000 C CNN
F 1 "10K 1%" H 2250 5400 25  0000 C CNN
	1    2250 5350
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR2
U 1 1 5083228C
P 2250 5550
F 0 "#PWR2" H 2250 5550 30  0001 C CNN
F 1 "GND" H 2250 5480 30  0001 C CNN
	1    2250 5550
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR15
U 1 1 5083200B
P 6450 5150
F 0 "#PWR15" H 6450 5110 30  0001 C CNN
F 1 "+3.3V" H 6450 5260 30  0000 C CNN
	1    6450 5150
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P1
U 1 1 50831FC0
P 5950 5600
F 0 "P1" V 5900 5600 40  0000 C CNN
F 1 "Brake" V 6000 5600 40  0000 C CNN
	1    5950 5600
	-1   0    0    1   
$EndComp
Text Label 6850 5500 0    60   ~ 0
Brake_signal (LPC2103 P0.11)
$Comp
L R_MINI R1
U 1 1 50831F42
P 6450 5350
F 0 "R1" H 6450 5300 25  0000 C CNN
F 1 "10K" H 6450 5400 25  0000 C CNN
	1    6450 5350
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR16
U 1 1 50831F3E
P 6450 5850
F 0 "#PWR16" H 6450 5850 30  0001 C CNN
F 1 "GND" H 6450 5780 30  0001 C CNN
	1    6450 5850
	1    0    0    -1  
$EndComp
$Comp
L C_MINI C1
U 1 1 50831F3D
P 6450 5650
F 0 "C1" V 6400 5690 30  0000 C CNN
F 1 "10nF" H 6500 5720 25  0000 C CNN
	1    6450 5650
	0    -1   -1   0   
$EndComp
Text Notes 1900 4550 0    60   ~ 0
Battery GND
$Comp
L C_MINI C3
U 1 1 50831E6F
P 6850 4400
F 0 "C3" V 6800 4440 30  0000 C CNN
F 1 "10nF" H 6900 4470 25  0000 C CNN
	1    6850 4400
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR21
U 1 1 50831E6E
P 6850 4600
F 0 "#PWR21" H 6850 4600 30  0001 C CNN
F 1 "GND" H 6850 4530 30  0001 C CNN
	1    6850 4600
	1    0    0    -1  
$EndComp
$Comp
L CONN_3 K1
U 1 1 50831D6C
P 5950 4050
F 0 "K1" V 5900 4050 50  0000 C CNN
F 1 "Throttle" V 6000 4050 40  0000 C CNN
	1    5950 4050
	-1   0    0    1   
$EndComp
$Comp
L +5V #PWR12
U 1 1 50831D0B
P 6400 4050
F 0 "#PWR12" H 6400 4140 20  0001 C CNN
F 1 "+5V" H 6400 4140 30  0000 C CNN
	1    6400 4050
	0    1    1    0   
$EndComp
$Comp
L R_MINI R2
U 1 1 50831D06
P 6650 4100
F 0 "R2" H 6650 4050 25  0000 C CNN
F 1 "3K6 1%" H 6650 4150 25  0000 C CNN
	1    6650 4100
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R3
U 1 1 50831D05
P 6650 4400
F 0 "R3" H 6700 4350 25  0000 C CNN
F 1 "6K8 1%" H 6650 4450 25  0000 C CNN
	1    6650 4400
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR20
U 1 1 50831D04
P 6650 4600
F 0 "#PWR20" H 6650 4600 30  0001 C CNN
F 1 "GND" H 6650 4530 30  0001 C CNN
	1    6650 4600
	1    0    0    -1  
$EndComp
Text Label 7200 4250 0    60   ~ 0
Throttle_signal (LPC2103 P0.24)
$Comp
L GND #PWR7
U 1 1 50831B19
P 3050 4400
F 0 "#PWR7" H 3050 4400 30  0001 C CNN
F 1 "GND" H 3050 4330 30  0001 C CNN
	1    3050 4400
	1    0    0    -1  
$EndComp
$Comp
L R_MINI R5
U 1 1 50831B08
P 3050 4200
F 0 "R5" H 3100 4150 25  0000 C CNN
F 1 "6K8 1%" H 3050 4250 25  0000 C CNN
	1    3050 4200
	0    -1   -1   0   
$EndComp
$Comp
L R_MINI R4
U 1 1 50831AF9
P 3050 3900
F 0 "R4" H 3050 3850 25  0000 C CNN
F 1 "3K6 1%" H 3050 3950 25  0000 C CNN
	1    3050 3900
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR5
U 1 1 50831623
P 2650 4400
F 0 "#PWR5" H 2650 4400 30  0001 C CNN
F 1 "GND" H 2650 4330 30  0001 C CNN
	1    2650 4400
	1    0    0    -1  
$EndComp
Text Label 2300 3300 0    60   ~ 0
Motor GND
$Comp
L GND #PWR6
U 1 1 50831321
P 2850 4400
F 0 "#PWR6" H 2850 4400 30  0001 C CNN
F 1 "GND" H 2850 4330 30  0001 C CNN
	1    2850 4400
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR1
U 1 1 50831300
P 2250 4400
F 0 "#PWR1" H 2250 4400 30  0001 C CNN
F 1 "GND" H 2250 4330 30  0001 C CNN
	1    2250 4400
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR4
U 1 1 508312E5
P 2650 3600
F 0 "#PWR4" H 2650 3690 20  0001 C CNN
F 1 "+5V" H 2650 3690 30  0000 C CNN
	1    2650 3600
	1    0    0    -1  
$EndComp
$Comp
L ACS754_ACS755_ACS756_HALLCURRENTSENSOR IC1
U 1 1 50830D7C
P 2300 3850
F 0 "IC1" H 2300 4050 60  0000 C CNN
F 1 "ACS756SCA-100B" H 2350 4200 60  0000 C CNN
	1    2300 3850
	0    -1   -1   0   
$EndComp
$EndSCHEMATC
